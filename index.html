<!DOCTYPE html>












  


<html class="theme-next pisces use-motion" lang>
<head><meta name="generator" content="Hexo 3.8.0">
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
























<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2">

<link rel="stylesheet" href="/css/main.css?v=7.1.1">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.1.1">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=7.1.1">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.1.1">


  <link rel="mask-icon" href="/images/logo.svg?v=7.1.1" color="#222">







<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '7.1.1',
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false,"dimmer":false},
    back2top: true,
    back2top_sidebar: false,
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '7YQC8ZUSIO',
      apiKey: '6cd7cf29c4e0f003003ac2dcad422b32',
      indexName: 'muzibing',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta property="og:type" content="website">
<meta property="og:title" content="MUZI&#39;s BLOG">
<meta property="og:url" content="https://muzibing.github.io/index.html">
<meta property="og:site_name" content="MUZI&#39;s BLOG">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="MUZI&#39;s BLOG">



  <link rel="alternate" href="/atom.xml" title="MUZI's BLOG" type="application/atom+xml">



  
  
  <link rel="canonical" href="https://muzibing.github.io/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>MUZI's BLOG</title>
  












  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript><!-- hexo-inject:begin --><!-- hexo-inject:end -->

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="default">

  
  
    
  

  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">MUZI's BLOG</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="Toggle navigation bar">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home menu-item-active">

    
    
    
      
    

    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>Home</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-about">

    
    
    
      
    

    

    <a href="/about/" rel="section"><i class="menu-item-icon fa fa-fw fa-user"></i> <br>About</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">

    
    
    
      
    

    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br>Tags</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">

    
    
    
      
    

    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br>Categories</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
    
      
    

    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>Archives</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-schedule">

    
    
    
      
    

    

    <a href="/schedule/" rel="section"><i class="menu-item-icon fa fa-fw fa-calendar"></i> <br>Schedule</a>

  </li>

      
      
    </ul>
  

  

  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://muzibing.github.io/2019/05/07/2019.05.07（52）/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="MUZIBing">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MUZI's BLOG">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/05/07/2019.05.07（52）/" class="post-title-link" itemprop="url">Wiener Trick解题准备</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-05-07 00:00:00" itemprop="dateCreated datePublished" datetime="2019-05-07T00:00:00+08:00">2019-05-07</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2019-05-08 19:58:15" itemprop="dateModified" datetime="2019-05-08T19:58:15+08:00">2019-05-08</time>
              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>☛ 前言：在做过了有关Crypto的两大题目（都是有关RSA）后，并在学习了《图解密码技术》中有关RSA的知识点后，我这里两天一直在尝试解Wiener Trick这道题目，在成功解出之后，并对其背后的原理又进行了学习和了解，那么今天我要认真的总结一下这道题背后的原理和知识点吧，明天再将解题的过程总结一下。</p>
<h3 id="一、前期准备"><a href="#一、前期准备" class="headerlink" title="一、前期准备"></a>一、前期准备</h3><ul>
<li>Wiener 攻击的原理</li>
<li>RSA加密的原理</li>
<li>连分数的知识点</li>
</ul>
</blockquote>
<h3 id="二、思考问题"><a href="#二、思考问题" class="headerlink" title="二、思考问题"></a>二、思考问题</h3><h4 id="1-通过RSA2这道题目可以知道，我们可以从公钥推导出私钥（n和e较小），那么除了上道题目的方法外，还有别的攻击方法吗？"><a href="#1-通过RSA2这道题目可以知道，我们可以从公钥推导出私钥（n和e较小），那么除了上道题目的方法外，还有别的攻击方法吗？" class="headerlink" title="1. 通过RSA2这道题目可以知道，我们可以从公钥推导出私钥（n和e较小），那么除了上道题目的方法外，还有别的攻击方法吗？"></a>1. 通过RSA2这道题目可以知道，我们可以从公钥推导出私钥（n和e较小），那么除了上道题目的方法外，还有别的攻击方法吗？</h4><blockquote>
<p>答：当然有，这个方法就是我们在题目中所用的Wiener攻击方法。</p>
</blockquote>
<h4 id="2-Wiener攻击方法的原理是什么"><a href="#2-Wiener攻击方法的原理是什么" class="headerlink" title="2. Wiener攻击方法的原理是什么"></a>2. Wiener攻击方法的原理是什么</h4><blockquote>
<p>答：因为e和d是通过公式：e * d mod Φ(n) = 1产生了联系，Wiener攻击也是利用了这个公式，可以对RSA进行攻击（前提是： d &lt; $\frac{1}{3} N^\frac{1}{4}$&lt;/font&gt;），稍后我将会详细讲解这个有关知识。</p>
</blockquote>
<h4 id="3-连分数和Wiener有什么联系？"><a href="#3-连分数和Wiener有什么联系？" class="headerlink" title="3. 连分数和Wiener有什么联系？"></a>3. 连分数和Wiener有什么联系？</h4><blockquote>
<p>答：连分数在这里的作用，其实就是通过上问的公式，求得关键参数 d的，具体的细节我会在下文详述；</p>
</blockquote>
<h3 id="三、知识详解"><a href="#三、知识详解" class="headerlink" title="三、知识详解"></a>三、知识详解</h3><h4 id="1-连分数介绍"><a href="#1-连分数介绍" class="headerlink" title="1.连分数介绍"></a>1.连分数介绍</h4><blockquote>
<p><strong>① 概念</strong><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;连分数又称为特殊分繁数，如果a0，a1，a2，…an，…都是整数，则将分别称为无限连分数和有限连分数。<br><br><br><strong>② 形式</strong></p>
<p><center>![](https://cn.bing.com/th?id=OIP.pwhn5pgFxJnb34IMaLw6tQAAAA&pid=Api&rs=1&p=0)</center><br><strong>③  连分数的性质</strong></p>
<ul>
<li>一个数的连分数表示是有限的，当且仅当这个数是有理数；</li>
<li><strong>对于两个数辗转相除，最终会停在两个数的最大公约数上；</strong></li>
<li>任何有理数的连分数表示是唯一的，如果它没有尾随的1；</li>
<li>无理数的连分数表示是唯一的；</li>
<li>数x的截断连分数表示很早产生x的在特定意义上“最佳可能”的有理数逼近；</li>
</ul>
<p>最后一个性质非常重要，且传统的小数点表示就不能如此。数的截断小数表示产生这个数的有理数逼近，但通常不是非常好的逼近。例如，截断$ {\displaystyle {\frac {1}{7}}=0.142\ 857\ldots } {\displaystyle {\frac {1}{7} }=0.142\ 857\ldots } $在各种位置上产生逼近比，如$ {\displaystyle {\frac {142}{1000}}} {\displaystyle {\frac {142}{1000}}}$、 ${\displaystyle {\frac {14}{100} } } {\displaystyle {\frac {14}{100} } } $和$ {\displaystyle {\frac {1}{10} } } $。但是明显的最佳有理数逼近是“$ {\displaystyle {\frac {1}{7}}}$”自身。<br><br><br><strong>④ 连分数的渐近分数</strong><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;这是一个重要的概念！！对于连分数，我们观察每一个分母，它后面加的那一项都<font color="red"><strong>小于1</strong></font>，所以相比 a<sub>i</sub> 是一个非常小的数，如果我们把第 i 个分母后面的分数全部略去，我们称这个分数为这个连分数第 i 个渐进分数，显然 i 越大离 x 越接近，并且由于约去了<strong>分母前 n-1 个渐进分数都是小于 x 的</strong>（在求 d 的时候就是利用这一个性质）。<br><br><br><strong>⑤ 实例</strong></p>
<p><center>a = ![](https://img-blog.csdnimg.cn/20181223182418420)![](https://img-blog.csdnimg.cn/20181223182418434)![](https://img-blog.csdnimg.cn/20181223182418448)![](https://img-blog.csdnimg.cn/20181223182418464)</center></p>
<ul>
<li><font color="red"><strong>a 的渐近分数</strong></font>为：4，$ {\displaystyle{\frac{2}{9} (4 + \frac{1}{2}}})$，${\displaystyle{\frac{58}{13} (4 + \frac{1}{2+\frac{1}{6}}})}$，${\displaystyle{\frac{415}{93} (4 + \frac{1}{2+\frac{1}{6+\frac{1}{7}}}})}$</li>
</ul>
</blockquote>
<h4 id="2-Wiener-Attack-原理"><a href="#2-Wiener-Attack-原理" class="headerlink" title="2.Wiener Attack 原理"></a>2.Wiener Attack 原理</h4><blockquote>
<p><strong>① 分析RSA的加密原理</strong><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;对于RSA的原理，我在前面几篇文章里已经写的很详细了，今天重点来说<font color="red"> “ 如何通过不分解大整数 ‘N’ ，来得到私钥的 ‘d’ ”</font>：<br><br>【分析】<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d 是通过<code>e * d mod φ(N) = 1</code><sup>[1]</sup>公式产生的，而<code>e、N</code>是已知的，然而<code>N</code>和<code>φ(N)</code>又有着一定的联系：<code>φ(N) = (p-1)(q-1) = p*q-(p+q)+1 = N-(p+q)+1</code><sup>[2]</sup>，我们知道<code>N</code>很大，所以对于<code>p</code>和<code>q</code>也相对较大，那么<code>p*q</code>的值是远大于<code>p+q</code>的，因此我们可以在这里<code>φ(N) ≈ N</code>；<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;从上段的分析我们可以得出<code>[1]</code>式的三个变量，那么现在我们将<code>[1]</code>式进行变形，变形为<code>k * φ(N) = e * d - 1</code>，再将该式两边除以<code>d * φ(N)</code>，得到下面的式子：</p>
<p><center>$\displaystyle{\frac{k}{d}  = \frac{e}{φ(N)} - \frac{1}{dφ(N)}} $</center><br>因为 <code>φ(N) ≈ N</code>，所以又得到下面的式子：</p>
<p><center>$\displaystyle{\frac{k}{d}  = \frac{e}{N} - \frac{1}{dφ(N)}} $</center><br>因为<code>d * φ(N)</code>得到的值很大，上述的式子可以这样理解：<font color="red"><strong>$\displaystyle{\frac{e}{N}}$是一个比$\displaystyle{\frac{k}{d}}$稍微大的数</strong></font>，既然我们已经得到这样的性质，那么怎么通过$\displaystyle{\frac{e}{N}}$求$\displaystyle{\frac{k}{d}}$，进而求得 d 呢？<br><br><strong>② 如何通过$\displaystyle{\frac{e}{N}}$求$\displaystyle{\frac{k}{d}}$</strong><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;现在我们就用到上文所提到的 “连分数” 的性质了，通过求$\displaystyle{\frac{e}{N}}$渐进分数，而且渐近分数有一个这样的性质<code>分母前 n-1 个渐进分数都是小于 x 的</code>，也就是说假如$\displaystyle{\frac{e}{N}}$有 a<sub>n</sub> 个渐近分数，那么：</p>
<ul>
<li>前 a<sub>n-1</sub> 个渐近分数都小于 $\displaystyle{\frac{e}{N}}$的值！</li>
<li>前 a<sub>n-1</sub> 个渐近分数都小于 $\displaystyle{\frac{e}{N}}$的值！</li>
<li>前 a<sub>n-1</sub> 个渐近分数都小于 $\displaystyle{\frac{e}{N}}$的值！</li>
</ul>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;也就是说 $\displaystyle{\frac{e}{N}}$ 的前 a<sub>n-1</sub> 个渐近分数中的值肯定有一个是 $\displaystyle{\frac{k}{d}}$ 的值；<br><br><strong>③ 怎么确定 $\displaystyle{\frac{k}{d}}$ 的值？</strong><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$\displaystyle{\frac{e}{N}}$ 的渐进数可能会有很多情况，那么我们怎么确定哪个渐进数是 $\displaystyle{\frac{k}{d}}$ 的值呢？这个时候我们就要将所有的情况<strong>（k，d）</strong>带入<code>e * d - 1 = k * φ(N)</code>式中，就得到了 φ(N) 的值%%#￥@@（#……#%@%￥￥@%@…………思路太乱了，算了直接上数学做题思路：</p>
<blockquote>
<p>∵ 求得了 k、d 的 n-1 个值<br>∴ 也就有 n-1 个 φ(N) 的值<br>∵ φ(N) = (p-1) * (q-1) = pq - (p+q) + 1 = N - (p+q) + 1<br>∵ φ(N) 已求出 且 N 已知<br>∴ p + q = N - φ(N) + 1 &nbsp;&nbsp;&nbsp;&nbsp;(x<sub>1</sub> + x<sub>2</sub> = N - φ(N) + 1)<br>∵ p * q = N &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(x<sub>1</sub> * x<sub>2</sub> = N )<br>∴ 通过韦达定理可得：</p>
<p><center><font color="red">x<sup>2</sup> - ( N - φ(N) + 1)x + N = 0</font></center><br>&nbsp;&nbsp;&nbsp;&nbsp;将 n-1 个 φ(N) 的值分别代入该式，如果能够求得 x<sub>1</sub> 和 x<sub>2</sub>的有效解，那么 x<sub>1</sub> 和 x<sub>2</sub> 就是 p 、q 的值，也就可以确定 k、d 的值；</p>
</blockquote>
</blockquote>
<h3 id="四、参考网站"><a href="#四、参考网站" class="headerlink" title="四、参考网站"></a>四、参考网站</h3><blockquote>
<p><a href="https://sagi.io/2016/04/crypto-classics-wieners-rsa-attack/" target="_blank" rel="noopener">Crypto Classics: Wiener’s RSA Attack</a><br><a href="https://en.wikipedia.org/wiki/Wiener%27s_attack" target="_blank" rel="noopener">[WiKi]Wiener’s attack</a><br><a href="https://zh.wikipedia.org/wiki/%E8%BF%9E%E5%88%86%E6%95%B0#%E4%B8%80%E4%BA%9B%E6%9C%89%E7%94%A8%E7%9A%84%E5%AE%9A%E7%90%86" target="_blank" rel="noopener">[WiKi]连分数</a><br><a href="https://blog.csdn.net/oumeixi_wjp/article/details/44747329" target="_blank" rel="noopener">[CSDN]RSA攻击之wiener攻击</a><br><a href="https://zhuanlan.zhihu.com/p/21858074" target="_blank" rel="noopener">[知乎]受RSA和强攻wiener</a></p>
</blockquote>
<h3 id="五、学习感悟"><a href="#五、学习感悟" class="headerlink" title="五、学习感悟"></a>五、学习感悟</h3><blockquote>
<p>这道题是我首次感受到了密码题和数学的关联如此之大，让我开始思考以前所学数学的意义，以及以后对待数学的态度。这次做题让我真真切切的感受到了数学不是空理论，而是一切的理论基础。今后我将会继续努力学习数学，继续探索数学的奥秘。</p>
</blockquote>
<h3 id="六、每日一句"><a href="#六、每日一句" class="headerlink" title="六、每日一句"></a>六、每日一句</h3><blockquote>
<p>从不奢求生活能给予我最好的，只是执着于寻求最适合我的！ </p>
</blockquote>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://muzibing.github.io/2019/05/05/2019.05.05（51）/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="MUZIBing">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MUZI's BLOG">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/05/05/2019.05.05（51）/" class="post-title-link" itemprop="url">MySQL学习笔记（一）——查询</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-05-05 00:00:00 / Modified: 23:04:31" itemprop="dateCreated datePublished" datetime="2019-05-05T00:00:00+08:00">2019-05-05</time>
            

            
              

              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>☛ 前言：大学本科期间也学习过SQL的知识，但是有些只是点已经忘记，前几天做SQL注入的时候感觉挺费劲的，所以这两天学习了一下MySQL有关查询的常用语句，今天主要对此进行总结。</p>
<h3 id="一、基本查询"><a href="#一、基本查询" class="headerlink" title="一、基本查询"></a>一、基本查询</h3><h4 id="1-语句格式："><a href="#1-语句格式：" class="headerlink" title="1.语句格式："></a>1.语句格式：</h4><p><center><font color="red">select * from <表名></表名></font></center><br>说明：</p>
<ul>
<li>使用使用’’select’查询的基本语句<code>select * from &lt;表名&gt;</code>可以查询一个表的所有行和所有列的数据</li>
<li><code>select</code>查询的结果是一个二维表；<h3 id="二、条件查询"><a href="#二、条件查询" class="headerlink" title="二、条件查询"></a>二、条件查询</h3><h4 id="1-语句格式：-1"><a href="#1-语句格式：-1" class="headerlink" title="1.语句格式："></a>1.语句格式：</h4><center><font color="red">select * from <表名> where <条件表达式></条件表达式></表名></font></center><h4 id="2-条件表达式的中的条件："><a href="#2-条件表达式的中的条件：" class="headerlink" title="2.条件表达式的中的条件："></a>2.条件表达式的中的条件：</h4></li>
<li><strong>第一种条件：and</strong><br>条件表达式可以用<code>&lt;条件1&gt; AND &lt;条件2&gt;</code>表达满足条件1<strong>并且</strong>满足条件2<br><br></li>
<li><strong>第二种条件：or</strong><br>第二种条件是<code>&lt;条件1&gt; OR &lt;条件2&gt;</code>，表示满足条件1<strong>或者</strong>满足条件2<br><br></li>
<li><strong>第三种条件：NOT（不常用）</strong><br>第三种条件是NOT &lt;条件&gt;，表示“不符合该条件”的记录<br><br><br>上述条件的优先级：<center>**NOT > AND > OR**</center>
对于条件表达式中出现的字串需要单引号括起来。
### 三、投影查询
#### 1.语句格式：
<center><font color="red">select 列1，列2...  from……</font></center></li>
<li>使用列名时，还可以给每一列起一个名字，格式如下：<code>select 列1 别名1，列2 别名2，列名3 别名3  from……</code><h4 id="2-小结"><a href="#2-小结" class="headerlink" title="2.小结"></a>2.小结</h4></li>
<li>使用SELECT * 表示查询表的所有列，使用SELECT 列1, 列2, 列3则可以仅返回指定列，这种操作称为投影。</li>
<li>SELECT语句可以对结果集的列进行重命名<h3 id="四、排序查询"><a href="#四、排序查询" class="headerlink" title="四、排序查询"></a>四、排序查询</h3><h4 id="1-语句格式"><a href="#1-语句格式" class="headerlink" title="1.语句格式"></a>1.语句格式</h4><center><font color="red">select * from <表名> where <条件表达式> order by <选项></选项></条件表达式></表名></font></center><h4 id="2-注意"><a href="#2-注意" class="headerlink" title="2.注意"></a>2.注意</h4></li>
<li>默认是从低到高排序（ASC），如果加上DESC，则是按照从高到低排序；</li>
<li>语句中要有where子句，则order by 子句要放到where子句后面；<h3 id="五、分页查询"><a href="#五、分页查询" class="headerlink" title="五、分页查询"></a>五、分页查询</h3><h4 id="1-语句格式-1"><a href="#1-语句格式-1" class="headerlink" title="1.语句格式"></a>1.语句格式</h4><center><font color="red">select * from <表名> limit  < M > offset < N ></表名></font></center><br>有关计算：</li>
<li>LIMIT  总是设定为 pageSize；</li>
<li>OFFSET计算公式为 pageSize * (pageIndex - 1)；<h4 id="2-实例"><a href="#2-实例" class="headerlink" title="2.实例"></a>2.实例</h4></li>
<li>要获取第1页的记录，可以使用LIMIT 3 OFFSET 0：<br><center>Select id,name,gender,score from students order by score DESC **limit 3 offset 0**;</center><br>上述查询LIMIT 3 OFFSET 0表示，对结果集从0号记录开始，最多取3条。注意SQL记录集的索引从0开始。如果要查询第2页，那么我们只需要“跳过”头3条记录，也就是对结果集从3号记录开始查询，把OFFSET设定为3：<br><br></li>
<li>要获取第2页的记录，可以使用LIMIT 3 OFFSET 3;<br><center>Select id,name,gender,score from students order by score DESC **limit 3 offset 3**;</center><br><br></li>
<li>要获取第3页的记录，可以使用LIMIT 3 OFFSET 6：<br><center>Select id,name,gender,score from students order by score DESC **limit 3 offset 6**;</center><br>上述查询LIMIT 3 OFFSET 0表示，对结果集从0号记录开始，最多取3条。注意SQL记录集的索引从0开始。如果要查询第2页，那么我们只需要“跳过”头3条记录，也就是对结果集从3号记录开始查询，把OFFSET设定为3;<br><br></li>
<li>要获取第4页的记录，可以使用LIMIT 3 OFFSET 9;<br><center>Select id,name,gender,score from students order by score DESC **limit 3 offset 9**;</center><br>由于第4页只有1条记录，因此最终结果集按实际数量1显示。LIMIT 3表示的意思是“最多3条记录”<h4 id="3-注意的点"><a href="#3-注意的点" class="headerlink" title="3.注意的点"></a>3.注意的点</h4></li>
<li>OFFSET是可选的，如果只写LIMIT 15，那么相当于LIMIT 15 OFFSET 0;</li>
<li>在MySQL中，LIMIT 15 OFFSET 30还可以简写成LIMIT 30, 15;</li>
<li>使用LIMIT <m> OFFSET <n>分页时，随着N越来越大，查询效率也会越来越低;<h3 id="六、聚合查询"><a href="#六、聚合查询" class="headerlink" title="六、聚合查询"></a>六、聚合查询</h3><h4 id="1-语句格式-2"><a href="#1-语句格式-2" class="headerlink" title="1.语句格式"></a>1.语句格式</h4><center><font color="red">select count(*) from <表名>;</表名></font></center></n></m></li>
<li>count( )是SQL内置的函数查询</li>
</ul>
</blockquote>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://muzibing.github.io/2019/04/29/2019.04.29（50）/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="MUZIBing">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MUZI's BLOG">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/04/29/2019.04.29（50）/" class="post-title-link" itemprop="url">Misc：RealWiFi解题总结</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-04-29 00:00:00 / Modified: 21:09:46" itemprop="dateCreated datePublished" datetime="2019-04-29T00:00:00+08:00">2019-04-29</time>
            

            
              

              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>☛ 前言：今天把昨天做的题目“RealWiFi”总结一下。这道题目主要是一些工具的使用，但也涉及了相关连接wifi时的知识点，今天就主要的来总结一下有关内容。</p>
<h3 id="一、前期准备"><a href="#一、前期准备" class="headerlink" title="一、前期准备"></a>一、前期准备</h3><ul>
<li>crunch 生成字典</li>
<li>aircrack-ng工具</li>
<li>wireshark工具<h3 id="二、解题思路"><a href="#二、解题思路" class="headerlink" title="二、解题思路"></a>二、解题思路</h3></li>
</ul>
<ol>
<li>首先先观察题目给的流量包，看看都有什么协议；</li>
<li>根据第一步，然后针对协议的特点做出相应的判断；</li>
<li>从第二步可知，这个过程是一个网络接入的过程，应该是让我们找到密码；</li>
<li>根据题目提示写出字典；</li>
<li>暴力破解得到密码；</li>
<li>但是题目中说密码不是flag，可能要用这个密码解开数据包，得到明文；<h3 id="三、解题步骤"><a href="#三、解题步骤" class="headerlink" title="三、解题步骤"></a>三、解题步骤</h3><h4 id="1-观察流量包"><a href="#1-观察流量包" class="headerlink" title="1.观察流量包"></a>1.观察流量包</h4>用wireshark打开数据包，观察到流量包的格式为:EAPOL和802.11：<img src="http://r.photo.store.qq.com/psb?/V11UAV0k0TKwM6/dDpT4nPy6JnwXr04pXAtMt6NPMP8hBU.IhMXZodTttI!/r/dL8AAAAAAAAA" alt><br>于是我去查阅了一下有关EAPOL协议的内容，主要用于网络接入认证。由此我们可以知道这个流量包是一在连接wifi的时候抓取的，而且wifi的SSID为Blue_Whale。<h4 id="2-分析流量"><a href="#2-分析流量" class="headerlink" title="2.分析流量"></a>2.分析流量</h4>对于这道题给出的提示来看，再加上第一步的分析，可以知道题目让我们通过破解该数据包，得到wifi的密码。<h4 id="3-写出字典"><a href="#3-写出字典" class="headerlink" title="3.写出字典"></a>3.写出字典</h4>首先要思考的问题是，密码的长度是多少？密码的组合是什么？<br>根据题目给的提示：“密码较弱”，然后根据资料密码最短为“8”位，所以我猜测<strong>密码可能是由8个数字所组成</strong>，然后我用crunch生成字典：<br><center>`crunch 8 8 -t %%%%%%%% >> password.txt`</center><br><img src="http://r.photo.store.qq.com/psb?/V11UAV0k0TKwM6/fgzqG8GZ50X85tIp6hs171t2txgPRBUaJSHbJrn9Szw!/r/dFQBAAAAAAAA" alt><h4 id="4-暴力破解"><a href="#4-暴力破解" class="headerlink" title="4.暴力破解"></a>4.暴力破解</h4>根据我们写的字典，然后用aircrack-ng对其进行暴力破解：<br><center>`aircrack-ng -a2 -wifi.pcap -w password.txt` </center><br>在第18分41秒的时候，终于破解成功如下图：<img src="http://r.photo.store.qq.com/psb?/V11UAV0k0TKwM6/FBU392X7ZJaKA11sJcOOkoyysNB5JX1g4NRvH9ruPTY!/r/dDYBAAAAAAAA" alt><h4 id="5-破解流量包，得到明文"><a href="#5-破解流量包，得到明文" class="headerlink" title="5.破解流量包，得到明文"></a>5.破解流量包，得到明文</h4>在查了相关的资料后，在已知wifi密码后，可以用下面的方法破解流量包，然后得到明文：<br><img src="http://r.photo.store.qq.com/psb?/V11UAV0k0TKwM6/PlkJNK.2U3gaa.xAiRz8i94DZtVaNP1AQat9DVJbmpo!/r/dLsAAAAAAAAA" alt><img src="http://r.photo.store.qq.com/psb?/V11UAV0k0TKwM6/m0Cu81eaAVwYrkbSy1b08ZgYvkquvRSH2lStj9B086s!/r/dLsAAAAAAAAA" alt><img src="http://r.photo.store.qq.com/psb?/V11UAV0k0TKwM6/mUUsMsiUe6K7V7G2keppzcx0vMQfSkHpB3MkXD9EDuo!/r/dFQBAAAAAAAA" alt><h4 id="6-分析明文，得到flag"><a href="#6-分析明文，得到flag" class="headerlink" title="6.分析明文，得到flag"></a>6.分析明文，得到flag</h4>对于解密后的流量包，我们可以看到产生了HTTP、TCP等协议，我首先想到的是分析HTTP协议，因为他传输的都是明文，最终在POST中找到了Flag<img src="http://r.photo.store.qq.com/psb?/V11UAV0k0TKwM6/lbkrWeM06qmj4oMuv0FiSLnavPX75AvYrXdG6HmrBE4!/r/dD4BAAAAAAAA" alt><h3 id="四、参考资料"><a href="#四、参考资料" class="headerlink" title="四、参考资料"></a>四、参考资料</h3>因为本题所涉及的知识较多，我将一些我认为比较全面的参考资料贴出来，方便以后查阅和学习：</li>
</ol>
<ul>
<li><a href="https://blog.csdn.net/qq_42025840/article/details/81125584" target="_blank" rel="noopener">crunch的详细总结</a></li>
<li><a href="https://blog.csdn.net/amazingjwb/article/details/71192001" target="_blank" rel="noopener">aircrack-ng详细总结</a></li>
<li><a href="https://blog.csdn.net/printfmylife20140214/article/details/19419159" target="_blank" rel="noopener">EAPOL协议详细总结</a><h3 id="五、学习感悟"><a href="#五、学习感悟" class="headerlink" title="五、学习感悟"></a>五、学习感悟</h3>虽然今天总结了一下这个题目，但是还是感觉有些知识没有掌握，一些命令的用法没有理解。我有了个新的想法，根据我以前做出来的题目，我要将每道题目所涉及的知识点再复习一下，对于一些未能掌握，或者还不够熟悉的知识点进行总结和归纳，然后将这些盲区彻底搞懂。<h3 id="六、每日一句"><a href="#六、每日一句" class="headerlink" title="六、每日一句"></a>六、每日一句</h3>坚持了这么久，也成为了一种习惯。</li>
</ul>
</blockquote>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://muzibing.github.io/2019/04/28/2019.04.28（49）/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="MUZIBing">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MUZI's BLOG">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/04/28/2019.04.28（49）/" class="post-title-link" itemprop="url">Another 01game解题详细总结</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-04-28 00:00:00 / Modified: 12:18:45" itemprop="dateCreated datePublished" datetime="2019-04-28T00:00:00+08:00">2019-04-28</time>
            

            
              

              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>☛ 前言：今天认真的将昨天的题目整理了一下，下面我就总结一下有关的知识点吧。</p>
<h3 id="一、前期准备"><a href="#一、前期准备" class="headerlink" title="一、前期准备"></a>一、前期准备</h3><ul>
<li>python语言</li>
<li>二维码的知识（本题中不是重点）</li>
<li>QQ “扫一扫”<h3 id="二、思考过程"><a href="#二、思考过程" class="headerlink" title="二、思考过程"></a>二、思考过程</h3></li>
</ul>
<ol>
<li>题目中提示统计0和1的数量，那么首先就要统计一下题目中0 1字符串的数量；</li>
<li>然后看一下这个数量值，是否是一个数的平方；</li>
<li>如果是一个数的平方，那么就将这个字符串排成一个正方形；</li>
<li>题目中提示可以组成一个二维码，那么就要思考生成的正方形怎么像一个二维码；</li>
<li>根据上一步的思考，我们可以有选择地进行替换图形；</li>
<li>扫描生成的二维码，看得到什么消息；（还是一个 0 1 字符串）</li>
<li>根据题目提示，可以将字符串当作ASCII码编程，解出flag；</li>
</ol>
<p>以上的思路是根据题目的提示，以及自己在具体操作过程中所得到的。<br>注：以下全由Python编程而得</p>
<h3 id="三、解题步骤"><a href="#三、解题步骤" class="headerlink" title="三、解题步骤"></a>三、解题步骤</h3><h4 id="1-统计0和1的数量"><a href="#1-统计0和1的数量" class="headerlink" title="1.统计0和1的数量"></a>1.统计0和1的数量</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">num = 111011101100011011111010000000011111011011101111001100100101011111001000101011011101101000101010101000100100010110110011001101001010010100010010001011011001101000101010001010001001111101110001000011001010111101111100000000101010101010101010101010000000111111110110111010101100000011111111100010000011101110101010101010001110110001101110100010001010010100101010101011111001110010000110111000011110100111100011011100010110101001011101101001110100101101100101100110110110100010010010100100110010101110101010101010111111000000110111100001100111101000101001101110101110101110001010001010010011110010101011100010101111101001001101000111101000100110101010010011001010110000100000100010110010101010111010100101110101000100101110101010111010100000100000011001101010100011111010010100101011001100101010101110100100100100010010101101111010100111011001001001100010110011101000011110101110001011100000011110111010110001011111000010110001101110001001001010111101101000001111100111001000100110110100001101011001011011010001000011001011001100000010111000110110001011001010100000100011111111000011001010110011000111001010000000100111011101101110001010101000011111010100111001101010110101110001001000101001101110011001111100000001010100010110000011000011101010001000100010001010000010101001010101101000001001111101001100000101100011101000100110000000100101100100011011011001010110</span><br><span class="line"></span><br><span class="line">str_num = &apos;%d&apos;%num                                   # 将 num 转换为字符串                             </span><br><span class="line"></span><br><span class="line">##################### 判断整个字符串的长度 ########################</span><br><span class="line"></span><br><span class="line"># 将 0 1 字符串看作一个大的数值，对其除 10 求整，每除一次长度加一，直到退出while循环体；</span><br><span class="line"># length = i + 7，这是因为在num前面还有 7 个 0，因为所以长度要加 7 ；</span><br><span class="line"></span><br><span class="line">i = 0</span><br><span class="line">while(num):</span><br><span class="line">   num = num // 10                          </span><br><span class="line">   i += 1;</span><br><span class="line">length = i + 7</span><br><span class="line">print(&quot;\nThe length of string is:&quot;,length,end=&apos;\n\n&apos;)</span><br></pre></td></tr></table></figure>
<p>输出的结果为：<font color="red">The length of string is: 1369</font>，说明题目所给的字符串的长度为<code>1369</code>.</p>
<h4 id="2-找出平方为字符串长度的数"><a href="#2-找出平方为字符串长度的数" class="headerlink" title="2.找出平方为字符串长度的数"></a>2.找出平方为字符串长度的数</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">################### 将长度分成两个相同的数相乘 ######################</span><br><span class="line"></span><br><span class="line">for n in range(30,40):</span><br><span class="line">   mu = n * n</span><br><span class="line">   if length == mu:</span><br><span class="line">      print(n,&apos;*&apos;,n,&apos;=&apos;,length,end=&apos;\n\n&apos;)            # n * n = 题目中字符串长度；</span><br><span class="line">      qrcode = n</span><br></pre></td></tr></table></figure>
<p>输出的结果为：<font color="red">37 * 37 = 1369</font>，说明可以排成 <code>37 × 37</code> 的的正方形。</p>
<h4 id="3-将这些0和1排成一个正方形"><a href="#3-将这些0和1排成一个正方形" class="headerlink" title="3.将这些0和1排成一个正方形"></a>3.将这些0和1排成一个正方形</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">#################### 根据参数输出二维码的图形 #######################</span><br><span class="line"></span><br><span class="line">for index in range(0,qrcode):                         # 外层循环控制 “行”，行数 = qrcode；</span><br><span class="line">   if index == 0:                                     # 控制第 “1” 行输出；</span><br><span class="line">      print(&apos;0000000&apos;,end=&apos;&apos;)                         # 对于第一行，前面有 7 个 0，需要补上，先打印出来，控制第 “1” 行的前 “7” 个字符的输出；</span><br><span class="line">      for sec in range(0,qrcode - 7):                 # 相比题目中给的字符串的位置，num 中数位置均 - 7，而这种差距是在第一行出现的，所以要把第一行的情况单独列出来；控制第 “1” 行后 “30” 个字符的输出；</span><br><span class="line">         if str_num[sec] == &apos;1&apos;:                      # 判断字符是否为“1”，如果是则打印“1”；</span><br><span class="line">            print(&apos;1&apos;,end=&apos;&apos;)</span><br><span class="line">         else:</span><br><span class="line">            print(&apos;0&apos;,end=&apos;&apos;)                         # 字符为“0”，则打印 “0” ；</span><br><span class="line">      print(end=&apos;\n&apos;)</span><br><span class="line">   else:                                              # 分析第 [2,37] 行的情况；</span><br><span class="line">      for sec in range(0,qrcode):                     # 控制 “2—37” 行的 “1—37” 列的的输出</span><br><span class="line">         if str_num[sec + index * qrcode - 7] == &apos;1&apos;: # sec + index * qrcode 是将题目中的字符串每行按照 qrcode的长度进行分行；sec + index * qrcode - 7 因为num和题目给的字符串的下标差 7（校正值） ，所以需要校正；</span><br><span class="line">            print(&apos;1&apos;,end=&apos;&apos;)                         # 判断字符是否为“1”，如果是则打印“1”；</span><br><span class="line">         else:</span><br><span class="line">            print(&apos;0&apos;,end=&apos;&apos;)                         # 字符为“0”，则打印 “0” ；</span><br><span class="line">      print(end=&apos;\n&apos;)</span><br></pre></td></tr></table></figure>
<p>输出结果如下图：<img src="http://r.photo.store.qq.com/psb?/V11UAV0k0TKwM6/hHlt30XKkva4*7pw5CZPp69XK.Zm8s302WAQmLqFGA8!/r/dIQAAAAAAAAA" alt></p>
<h4 id="4-观察-0-和-1-的排布情况"><a href="#4-观察-0-和-1-的排布情况" class="headerlink" title="4.观察 0 和 1 的排布情况"></a>4.观察 0 和 1 的排布情况</h4><p>将上面的图片经过简单的处理，得到下图：<br><img src="http://r.photo.store.qq.com/psb?/V11UAV0k0TKwM6/TEeZvghANlI7V7CTcxQgLYrYd25Qs2xKr6YBNa8JI*A!/r/dFQBAAAAAAAA" alt><br>从上面的图片中可以隐约的看到一个二维码的轮廓</p>
</blockquote>
<h4 id="5-输出二维码"><a href="#5-输出二维码" class="headerlink" title="5.输出二维码"></a>5.输出二维码</h4><blockquote>
<p>我将python输出的 0 和 1 ，分别用“■”和“  ”（两个空格）代替<br>得到下图：<br><img src="http://r.photo.store.qq.com/psb?/V11UAV0k0TKwM6/flSH8cmDdV68xRL7Za4*ZuM8hP2hNvc79tZEVTgw.m8!/r/dL8AAAAAAAAA" alt><br>但是从上图却没有扫出结果，于是我又对控制台的设置做了修改，如下图：<br><img src="http://r.photo.store.qq.com/psb?/V11UAV0k0TKwM6/o2YjzUWrWB5HtFoCxUFKYnac8oJagSKZBxgPgUZam2k!/r/dL8AAAAAAAAA" alt></p>
<h4 id="6-扫描二维码"><a href="#6-扫描二维码" class="headerlink" title="6.扫描二维码"></a>6.扫描二维码</h4><p>扫描二维码得到如下的结果：<font color="red">110011011011001100001110011111110111111001011000010101011011111100101110011101001111101011110111111100001110001001100001110101111010010111111110001101001010000110110000110010001100111111101</font></p>
<h4 id="7-根据结果得到flag"><a href="#7-根据结果得到flag" class="headerlink" title="7.根据结果得到flag"></a>7.根据结果得到flag</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">str_num = &apos;110011011011001100001110011111110111111001011000010101011011111100101110011101001111101011110111111100001110001001100001110101111010010111111110001101001010000110110000110010001100111111101&apos;</span><br><span class="line">num = int(str_num)                                      # 生成一个字符串类型和一个数据类型</span><br><span class="line">length = len(str_num)                                   # 计算result的长度</span><br><span class="line">print(&quot;\n\tThe length of result is:&quot;,length,end=&apos;\n\n&apos;) # 打印长度</span><br><span class="line">for n in range(4,8):                                    # ASCII码一般是由8位组成，这里是来查看result是由几位构成一个ASCII码</span><br><span class="line">    if length % n == 0:</span><br><span class="line">        print(&quot;\tThe ASCII&apos;length is:&quot;,n,end=&apos;\n\n&apos;)    # 得出 n 位构成一个ASCII码</span><br><span class="line">        sec = n</span><br><span class="line">        mul = length // n                               # 有几个ASCII码构成</span><br><span class="line"></span><br><span class="line">String = []                                             # 定义一个数据类型</span><br><span class="line">for index in range(0,mul):                              # 将字符串分为 mul 个短的字符串</span><br><span class="line">    n = num % 10000000                                  # 从字符串的尾到首，每 7 位分开；！！！需要优化！！！</span><br><span class="line">    num = num // 10000000                               # 将num重新赋值</span><br><span class="line">    str_n =&apos;%d&apos;%n                                       # 将取出来的7位0 1 数字转换位字符串</span><br><span class="line">    String.append(chr(int(str_n,2)))                    # 将 0 1 字符串转换为十进制，然后再转换为字符，赋值给String数组；</span><br><span class="line">print(&apos;\tThe flag is:\t&apos;,end=&apos;&apos;)</span><br><span class="line">for index in range(0,mul):                              # 倒序输出String的字符，就是所得的flag；</span><br><span class="line">    print(String[mul - index - 1],end=&apos;&apos;)</span><br><span class="line">print(&apos;\n\n&apos;)</span><br></pre></td></tr></table></figure>
<p>该脚本输出的结果如下图：<br><img src="http://r.photo.store.qq.com/psb?/V11UAV0k0TKwM6/Ck7.C*OQL.CthaN7Eys.f3qbuRDqnYB.3AuGcZDy2ZE!/r/dL8AAAAAAAAA" alt><br>那么所要求得的结果为：<code>flag{y0U_KNOW_ab0ut_qRC0d3}</code></p>
<h4 id="8-完整的Python脚本"><a href="#8-完整的Python脚本" class="headerlink" title="8.完整的Python脚本"></a>8.完整的Python脚本</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line">############################ 根据题目所给的0 1字符串，得二维码 ####################</span><br><span class="line"></span><br><span class="line">num = 111011101100011011111010000000011111011011101111001100100101011111001000101011011101101000101010101000100100010110110011001101001010010100010010001011011001101000101010001010001001111101110001000011001010111101111100000000101010101010101010101010000000111111110110111010101100000011111111100010000011101110101010101010001110110001101110100010001010010100101010101011111001110010000110111000011110100111100011011100010110101001011101101001110100101101100101100110110110100010010010100100110010101110101010101010111111000000110111100001100111101000101001101110101110101110001010001010010011110010101011100010101111101001001101000111101000100110101010010011001010110000100000100010110010101010111010100101110101000100101110101010111010100000100000011001101010100011111010010100101011001100101010101110100100100100010010101101111010100111011001001001100010110011101000011110101110001011100000011110111010110001011111000010110001101110001001001010111101101000001111100111001000100110110100001101011001011011010001000011001011001100000010111000110110001011001010100000100011111111000011001010110011000111001010000000100111011101101110001010101000011111010100111001101010110101110001001000101001101110011001111100000001010100010110000011000011101010001000100010001010000010101001010101101000001001111101001100000101100011101000100110000000100101100100011011011001010110</span><br><span class="line"></span><br><span class="line">str_num = &apos;%d&apos;%num                                   # 将 num 转换为字符串                             </span><br><span class="line"></span><br><span class="line">##################### 判断整个字符串的长度 ########################</span><br><span class="line"></span><br><span class="line"># 将 0 1 字符串看作一个大的数值，对其除 10 求整，每除一次长度加一，直到退出while循环体；</span><br><span class="line"># length = i + 7，这是因为在num前面还有 7 个 0，因为所以长度要加 7 ；</span><br><span class="line"></span><br><span class="line">i = 0</span><br><span class="line">while(num):</span><br><span class="line">   num = num // 10                          </span><br><span class="line">   i += 1;</span><br><span class="line">length = i + 7</span><br><span class="line">print(&quot;\nThe length of string is:&quot;,length,end=&apos;\n\n&apos;)</span><br><span class="line"></span><br><span class="line">################### 将长度分成两个相同的数相乘 ######################</span><br><span class="line"></span><br><span class="line">for n in range(30,40):</span><br><span class="line">   mu = n * n</span><br><span class="line">   if length == mu:</span><br><span class="line">      print(n,&apos;*&apos;,n,&apos;=&apos;,length,end=&apos;\n\n&apos;)            # n * n = 题目中字符串长度；</span><br><span class="line">      qrcode = n</span><br><span class="line"></span><br><span class="line">#################### 根据参数输出二维码的图形 #######################</span><br><span class="line"></span><br><span class="line"># 行数和列数均为 qrcode；</span><br><span class="line"># 用 “■” 来代替 0，用“  ”(两个空格)来代替 1；</span><br><span class="line">                                 </span><br><span class="line">for index in range(0,qrcode):                         # 外层循环控制 “行”，行数 = qrcode；</span><br><span class="line">   if index == 0:                                     # 控制第 “1” 行输出；</span><br><span class="line">      print(&apos;■■■■■■■&apos;,end=&apos;&apos;)                         # 对于第一行，前面有 7 个 0，需要补上，先打印出来，控制第 “1” 行的前 “7” 个字符的输出；</span><br><span class="line">      for sec in range(0,qrcode - 7):                 # 相比题目中给的字符串的位置，num 中数位置均 - 7，而这种差距是在第一行出现的，所以要把第一行的情况单独列出来；控制第 “1” 行后 “30” 个字符的输出；</span><br><span class="line">         if str_num[sec] == &apos;1&apos;:                      # 判断字符是否为“1”，如果是则用“  ”代替；</span><br><span class="line">            print(&apos;  &apos;,end=&apos;&apos;)</span><br><span class="line">         else:</span><br><span class="line">            print(&apos;■&apos;,end=&apos;&apos;)                         # 字符为“0”，则用“■” 来代替；</span><br><span class="line">      print(end=&apos;\n&apos;)</span><br><span class="line">   else:                                              # 分析第 [2,37] 行的情况；</span><br><span class="line">      for sec in range(0,qrcode):                     # 控制 “2—37” 行的 “1—37” 列的的输出</span><br><span class="line">         if str_num[sec + index * qrcode - 7] == &apos;1&apos;: # sec + index * qrcode 是将题目中的字符串每行按照 qrcode的长度进行分行；sec + index * qrcode - 7 因为num和题目给的字符串的下标差 7（校正值） ，所以需要校正；</span><br><span class="line">            print(&apos;  &apos;,end=&apos;&apos;)                        # 字符为“1”，如果是则用“  ”代替；</span><br><span class="line">         else:</span><br><span class="line">            print(&apos;■&apos;,end=&apos;&apos;)                         # 字符为“0”，则用 “■” 来代替；</span><br><span class="line">      print(end=&apos;\n&apos;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">############################ 根据结果，求得ASCII码相应的字符 ####################</span><br><span class="line"></span><br><span class="line">str_num = &apos;110011011011001100001110011111110111111001011000010101011011111100101110011101001111101011110111111100001110001001100001110101111010010111111110001101001010000110110000110010001100111111101&apos;</span><br><span class="line">num = int(str_num)                                      # 生成一个字符串类型和一个数据类型</span><br><span class="line">length = len(str_num)                                   # 计算result的长度</span><br><span class="line">print(&quot;\n\tThe length of result is:&quot;,length,end=&apos;\n\n&apos;) # 打印长度</span><br><span class="line">for n in range(4,8):                                    # ASCII码一般是由8位组成，这里是来查看result是由几位构成一个ASCII码</span><br><span class="line">    if length % n == 0:</span><br><span class="line">        print(&quot;\tThe ASCII&apos;length is:&quot;,n,end=&apos;\n\n&apos;)    # 得出 n 位构成一个ASCII码</span><br><span class="line">        sec = n</span><br><span class="line">        mul = length // n                               # 有几个ASCII码构成</span><br><span class="line"></span><br><span class="line">String = []                                             # 定义一个数据类型</span><br><span class="line">for index in range(0,mul):                              # 将字符串分为 mul 个短的字符串</span><br><span class="line">    n = num % 10000000                                  # 从字符串的尾到首，每 7 位分开；！！！需要优化！！！</span><br><span class="line">    num = num // 10000000                               # 将num重新赋值</span><br><span class="line">    str_n =&apos;%d&apos;%n                                       # 将取出来的7位0 1 数字转换位字符串</span><br><span class="line">    String.append(chr(int(str_n,2)))                    # 将 0 1 字符串转换为十进制，然后再转换为字符，赋值给String数组；</span><br><span class="line">print(&apos;\tThe flag is:\t&apos;,end=&apos;&apos;)</span><br><span class="line">for index in range(0,mul):                              # 倒序输出String的字符，就是所得的flag；</span><br><span class="line">    print(String[mul - index - 1],end=&apos;&apos;)</span><br><span class="line">print(&apos;\n\n&apos;)</span><br></pre></td></tr></table></figure>
</blockquote>
<h3 id="四、学习感悟"><a href="#四、学习感悟" class="headerlink" title="四、学习感悟"></a>四、学习感悟</h3><blockquote>
<p>其实这个题目没有那么难，但是因为自己要写脚本，所以花费的时间相对多的很多，但是这个过程带给我的收获确实很大的，一边学习了python，又解决了问题，蛮好的。在以后的解题种，我还将继续争取自己写脚本，解出题目。</p>
<h3 id="五、每日一句"><a href="#五、每日一句" class="headerlink" title="五、每日一句"></a>五、每日一句</h3><p>对于攀登者来说，失掉往昔的足迹并不可惜，迷失了继续前时的方向却很危险。 </p>
</blockquote>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://muzibing.github.io/2019/04/27/2019.04.27（48）/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="MUZIBing">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MUZI's BLOG">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/04/27/2019.04.27（48）/" class="post-title-link" itemprop="url">Python 学习笔记（一）</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-04-27 00:00:00 / Modified: 23:20:06" itemprop="dateCreated datePublished" datetime="2019-04-27T00:00:00+08:00">2019-04-27</time>
            

            
              

              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>☛ 前言：今天在做第二阶段的 02 号题目，可是一点思路也没有。转而去做了 Misc 的 Another 01 game，经过一段时间的思考和实践，终于将这道题做了出来，但是总结笔记还没有准备好素材。那么今天就主要总结一下python的学习笔记吧。</p>
<h3 id="一、第一个Python程序"><a href="#一、第一个Python程序" class="headerlink" title="一、第一个Python程序"></a>一、第一个Python程序</h3><h4 id="1-介绍："><a href="#1-介绍：" class="headerlink" title="1.介绍："></a>1.介绍：</h4><ol>
<li>命令行模式：可以执行.py文件</li>
<li>Python交互模式：在交互模式环境，也可以执行.py文件</li>
<li>2 <em> 10 = 20 ；2 *</em> 10 = 1024 ;<h4 id="2-使用文本编辑器："><a href="#2-使用文本编辑器：" class="headerlink" title="2.使用文本编辑器："></a>2.使用文本编辑器：</h4><ol>
<li>在windows上不可以直接运行.py文件，但是在Mac和Linux上是可以直接运行的;<h4 id="3-输入和输出："><a href="#3-输入和输出：" class="headerlink" title="3.输入和输出："></a>3.输入和输出：</h4></li>
</ol>
</li>
<li>输出：<br>a. 输出格式：print()  这里的括号必须加上；<br>b. Print()函数也可以接受多个字符，用逗号隔开：print(‘a’,’c’,’c’)，打印出来的效果为a c c</li>
<li>输入：<br>a. 输入格式：input()<br>b. 打印变量<br>c. input() 提示：input(‘please input your name:’) <h3 id="2-Python基础——数据类型和变量"><a href="#2-Python基础——数据类型和变量" class="headerlink" title="2.Python基础——数据类型和变量"></a>2.Python基础——数据类型和变量</h3></li>
<li><p>类型：<br>a. 整数：十六进制的表示方法：前缀为0x<br>b. 浮点数：小数点的位置是可以改变的，1.23*10^9 = 1.23e9<br>c. 字符串：<br>&nbsp;&nbsp;&nbsp;&nbsp;i. 单引号或者双引号括起来的文本；<br>&nbsp;&nbsp;&nbsp;&nbsp;ii. 如果要输入的内容为‘name’，则输入时因用双引号：“‘name’”；<br>&nbsp;&nbsp;&nbsp;&nbsp;iii. 如果字符串内部既包含单引号，又包含双引号，那么要用转义字符\来标识；<br>&nbsp;&nbsp;&nbsp;&nbsp;iv. 转义字符 \ ：可以转义很多字符，\（在行尾时）表示续行符；\ n表示换行等等。<br>&nbsp;&nbsp;&nbsp;&nbsp;v. 如果字符串里面有很多字符都需要转移，python允许使用 r’ ‘ 表示’ ‘ 内部的字符串默认不转义<br>&nbsp;&nbsp;&nbsp;&nbsp;vi. 如果字符串内部有很多换行，python允许用 ‘’’…’’’的格式表示多行内容,如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">print(&apos;&apos;&apos;line1</span><br><span class="line">line2</span><br><span class="line">line3&apos;&apos;&apos;)</span><br><span class="line"></span><br><span class="line">输出结果为：line1</span><br><span class="line">		  line2</span><br><span class="line">		  line3</span><br></pre></td></tr></table></figure>
</li>
<li><p>类型：<br>&nbsp;&nbsp;&nbsp;&nbsp;vii. 多行字符串 ‘’’…’’’ 还可以在前面加上 r 使用（直接写 r 就行）<br>d. 布尔值：<br>&nbsp;&nbsp;&nbsp;&nbsp;i. 布尔值在python中的表示格式为：True 和 False 第一个字符必须要大写<br>&nbsp;&nbsp;&nbsp;&nbsp;ii. 布尔值可以用 and、or 和 not 运算：<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1) and（与运算）：只有所有都为True，结果才能为True；<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2) or（或运算）：只要其中有一个True，结果就是True；<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3) not（是非运算）：单目运算符，把False变为True，把True变为False；<br>&nbsp;&nbsp;&nbsp;&nbsp;e. 空值：空值在Python中用None来表示，不能把None理解为 0 ，因为 0 是有意义的，而None是一个特殊的空值<br>f. 变量：变量名必须是大小写英文、数字和 _ 的组合，且不能用数字开头，变量在内存中的表示： a = ‘ABC’<br>&nbsp;&nbsp;&nbsp;&nbsp;i. 在内存中创建了一个 ‘ABC’  的字符串；<br>&nbsp;&nbsp;&nbsp;&nbsp;ii. 在内存中创建了一个名为 a 的变量，并把它指向 ‘ABC’<br>g. 常量：所谓的常量就是不能变的常量<br>&nbsp;&nbsp;&nbsp;&nbsp;i. 比如 PI = 3.141592653589793 ，但事实上PI仍然是个变量，如果一定要用PI作为变量名，那么 PI 的值为你赋给它的<br>&nbsp;&nbsp;&nbsp;&nbsp;ii. 除法：<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1) / ：除法结果时浮点数，即使是两个整数恰好相除，结果也是浮点数：9 / 3=3.0 10/3=3.333333333333335<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2) // ：称为地板除，也就是C里面的取整：10 // 3 = 3 ；</p>
<h3 id="三、每日一句"><a href="#三、每日一句" class="headerlink" title="三、每日一句"></a>三、每日一句</h3><p>人生目标确定容易实现难，但如果不去行动，那么连实现的可能也不会有。</p>
</li>
</ol>
</blockquote>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://muzibing.github.io/2019/04/26/2019.04.26（47）/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="MUZIBing">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MUZI's BLOG">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/04/26/2019.04.26（47）/" class="post-title-link" itemprop="url">初识 Caesar 密码</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-04-26 00:00:00 / Modified: 19:19:40" itemprop="dateCreated datePublished" datetime="2019-04-26T00:00:00+08:00">2019-04-26</time>
            

            
              

              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p><strong>☛ 前言：</strong><br>今天看《图解密码技术》中，学习了有关Caesar密码的知识，今天就主要说一下有关Caesar密码的知识点。</p>
<h3 id="一、认识Caesar密码"><a href="#一、认识Caesar密码" class="headerlink" title="一、认识Caesar密码"></a>一、认识Caesar密码</h3><p>在密码学中，恺撒密码（英语：Caesar cipher），或称恺撒加密、恺撒变换、变换加密，是一种最简单且最广为人知的加密技术，是以罗马共和时期恺撒的名字命名的。它是一种<strong>替换加密</strong>的技术，明文中的所有字母都在字母表上向后（或向前）<strong>按照一个固定数目进行偏移后被替换成密文</strong>。例如，当偏移量是3的时候，所有的字母a（小写代表明文）将被替换成D（大写代表密文），B变成E，以此类推吗，如下图：<img src="http://r.photo.store.qq.com/psb?/V11UAV0k0TKwM6/AKMYHBqnkVvRuVkXOzZO4ji*FlIOYlfhrqsnlkYXzTE!/r/dL8AAAAAAAAA" alt></p>
<h3 id="二、Caesar密码的加密"><a href="#二、Caesar密码的加密" class="headerlink" title="二、Caesar密码的加密"></a>二、Caesar密码的加密</h3><p>Caesar密码加密是根据“密钥”（偏移量），将26个字母的对应顺序依次后移，例如上图所示（偏移量为 3 ）。偏移量的取值有25中可能，所以有25中对应关系，也就有25个密钥；它的加密情况属于“替换加密”的简单的一种。<br>例如：以上图为例，我们要对“wearefamily”用Caesar进行加密：</p>
<ul>
<li>w —&gt; Z</li>
<li>e —&gt; H</li>
<li>a —&gt; D</li>
<li>r —&gt; U</li>
<li>e —&gt; H</li>
<li>f —&gt; I</li>
<li>a —&gt; D</li>
<li>m —&gt; P</li>
<li>i —&gt; L</li>
<li>l —&gt; O</li>
<li>y —&gt; B</li>
</ul>
<p>那么加密后的密文为：ZHDUHIDPLOB。在不知怎么样加密的情况下，我们完全读不懂该字符串的意思。</p>
<h3 id="三、Caesar密码解密"><a href="#三、Caesar密码解密" class="headerlink" title="三、Caesar密码解密"></a>三、Caesar密码解密</h3><p>Caesar密码的解密，关键在于找到“密钥”，也就是上文所说的偏移量。在不能得到偏移量的情况下，我们可以使用暴力破解的方法进行破解，也就是将25种情况全部尝试，然后再观察结果。<br><br>说明：在所有的实例中，将小写字母代表明文，大写字母代表密文；</p>
<h4 id="1-Caesar-25-种密钥"><a href="#1-Caesar-25-种密钥" class="headerlink" title="1.Caesar 25 种密钥"></a>1.Caesar 25 种密钥</h4><p>求25种密钥的算法如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">############## 构造的函数 ##############</span><br><span class="line">def Caesar(crypto):</span><br><span class="line">    Lowercase_ciphertext = chr(crypto)                  # 将十进制转换为小写的字符</span><br><span class="line">    Uppercase_ciphertext = Lowercase_ciphertext.upper() # 将小写字母的转换为大写字母  </span><br><span class="line">    string.append(Uppercase_ciphertext)                 # 将大写字母所对应的小写字母写入string列表中</span><br><span class="line">    return string </span><br><span class="line"></span><br><span class="line">############## 双层循环 ##############</span><br><span class="line">string = []</span><br><span class="line">for num in range(0,26):                                 # 这是偏移量，也是凯撒密码的密钥，从0 - 25；</span><br><span class="line">    for word in range(97,123):                          # a - z 所对应的ASCCII码</span><br><span class="line">        crypto = word + num;                            # 小写字母的ASCII码 + 偏移量 = 新的小写字母的ASCII码</span><br><span class="line">        if crypto &gt; 122:                                # 小写字母的ASCII码的范围为[97,122]，所以新的ASCII码的大小不能超过122</span><br><span class="line">            crypto = 96 + crypto % 122                  # 对于大于122的ASCII码，对其取余，以96为基础 + 余数 = 新的小写字母的ASCII码</span><br><span class="line">            Caesar(crypto)                              # 调用Caesar函数，将新的小写字母转换为大写字母，将其所对应的明文（小写字母）放入到一个数组中</span><br><span class="line">        else:</span><br><span class="line">            Caesar(crypto)          </span><br><span class="line"></span><br><span class="line">########## 取每种加密后的结果 ###########</span><br><span class="line">for mul in range(0,26):  </span><br><span class="line">    print(&quot;The key is:&quot;,mul)</span><br><span class="line">    print(&apos;abcdefghijklmnopqrstuvwxyz&apos;) </span><br><span class="line">    for index in range(0,26):        </span><br><span class="line">        Serial_number = index + mul * 26</span><br><span class="line">        print(string[Serial_number],end=&apos;&apos;)</span><br><span class="line">    print(end=&apos;\n\n&apos;)</span><br></pre></td></tr></table></figure></p>
<p>输出的结果为：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br></pre></td><td class="code"><pre><span class="line">The key is: 0</span><br><span class="line">abcdefghijklmnopqrstuvwxyz</span><br><span class="line">ABCDEFGHIJKLMNOPQRSTUVWXYZ</span><br><span class="line"></span><br><span class="line">The key is: 1</span><br><span class="line">abcdefghijklmnopqrstuvwxyz</span><br><span class="line">BCDEFGHIJKLMNOPQRSTUVWXYZA</span><br><span class="line"></span><br><span class="line">The key is: 2</span><br><span class="line">abcdefghijklmnopqrstuvwxyz</span><br><span class="line">CDEFGHIJKLMNOPQRSTUVWXYZAB</span><br><span class="line"></span><br><span class="line">The key is: 3</span><br><span class="line">abcdefghijklmnopqrstuvwxyz</span><br><span class="line">DEFGHIJKLMNOPQRSTUVWXYZABC</span><br><span class="line"></span><br><span class="line">The key is: 4</span><br><span class="line">abcdefghijklmnopqrstuvwxyz</span><br><span class="line">EFGHIJKLMNOPQRSTUVWXYZABCD</span><br><span class="line"></span><br><span class="line">The key is: 5</span><br><span class="line">abcdefghijklmnopqrstuvwxyz</span><br><span class="line">FGHIJKLMNOPQRSTUVWXYZABCDE</span><br><span class="line"></span><br><span class="line">The key is: 6</span><br><span class="line">abcdefghijklmnopqrstuvwxyz</span><br><span class="line">GHIJKLMNOPQRSTUVWXYZABCDEF</span><br><span class="line"></span><br><span class="line">The key is: 7</span><br><span class="line">abcdefghijklmnopqrstuvwxyz</span><br><span class="line">HIJKLMNOPQRSTUVWXYZABCDEFG</span><br><span class="line"></span><br><span class="line">The key is: 8</span><br><span class="line">abcdefghijklmnopqrstuvwxyz</span><br><span class="line">IJKLMNOPQRSTUVWXYZABCDEFGH</span><br><span class="line"></span><br><span class="line">The key is: 9</span><br><span class="line">abcdefghijklmnopqrstuvwxyz</span><br><span class="line">JKLMNOPQRSTUVWXYZABCDEFGHI</span><br><span class="line"></span><br><span class="line">The key is: 10</span><br><span class="line">abcdefghijklmnopqrstuvwxyz</span><br><span class="line">KLMNOPQRSTUVWXYZABCDEFGHIJ</span><br><span class="line"></span><br><span class="line">The key is: 11</span><br><span class="line">abcdefghijklmnopqrstuvwxyz</span><br><span class="line">LMNOPQRSTUVWXYZABCDEFGHIJK</span><br><span class="line"></span><br><span class="line">The key is: 12</span><br><span class="line">abcdefghijklmnopqrstuvwxyz</span><br><span class="line">MNOPQRSTUVWXYZABCDEFGHIJKL</span><br><span class="line"></span><br><span class="line">The key is: 13</span><br><span class="line">abcdefghijklmnopqrstuvwxyz</span><br><span class="line">NOPQRSTUVWXYZABCDEFGHIJKLM</span><br><span class="line"></span><br><span class="line">The key is: 14</span><br><span class="line">abcdefghijklmnopqrstuvwxyz</span><br><span class="line">OPQRSTUVWXYZABCDEFGHIJKLMN</span><br><span class="line"></span><br><span class="line">The key is: 15</span><br><span class="line">abcdefghijklmnopqrstuvwxyz</span><br><span class="line">PQRSTUVWXYZABCDEFGHIJKLMNO</span><br><span class="line"></span><br><span class="line">The key is: 16</span><br><span class="line">abcdefghijklmnopqrstuvwxyz</span><br><span class="line">QRSTUVWXYZABCDEFGHIJKLMNOP</span><br><span class="line"></span><br><span class="line">The key is: 17</span><br><span class="line">abcdefghijklmnopqrstuvwxyz</span><br><span class="line">RSTUVWXYZABCDEFGHIJKLMNOPQ</span><br><span class="line"></span><br><span class="line">The key is: 18</span><br><span class="line">abcdefghijklmnopqrstuvwxyz</span><br><span class="line">STUVWXYZABCDEFGHIJKLMNOPQR</span><br><span class="line"></span><br><span class="line">The key is: 19</span><br><span class="line">abcdefghijklmnopqrstuvwxyz</span><br><span class="line">TUVWXYZABCDEFGHIJKLMNOPQRS</span><br><span class="line"></span><br><span class="line">The key is: 20</span><br><span class="line">abcdefghijklmnopqrstuvwxyz</span><br><span class="line">UVWXYZABCDEFGHIJKLMNOPQRST</span><br><span class="line"></span><br><span class="line">The key is: 21</span><br><span class="line">abcdefghijklmnopqrstuvwxyz</span><br><span class="line">VWXYZABCDEFGHIJKLMNOPQRSTU</span><br><span class="line"></span><br><span class="line">The key is: 22</span><br><span class="line">abcdefghijklmnopqrstuvwxyz</span><br><span class="line">WXYZABCDEFGHIJKLMNOPQRSTUV</span><br><span class="line"></span><br><span class="line">The key is: 23</span><br><span class="line">abcdefghijklmnopqrstuvwxyz</span><br><span class="line">XYZABCDEFGHIJKLMNOPQRSTUVW</span><br><span class="line"></span><br><span class="line">The key is: 24</span><br><span class="line">abcdefghijklmnopqrstuvwxyz</span><br><span class="line">YZABCDEFGHIJKLMNOPQRSTUVWX</span><br><span class="line"></span><br><span class="line">The key is: 25</span><br><span class="line">abcdefghijklmnopqrstuvwxyz</span><br><span class="line">ZABCDEFGHIJKLMNOPQRSTUVWXY</span><br></pre></td></tr></table></figure></p>
<p>在得到上述的密钥后，对于Caesar加密后的密文，我们都应当能够解密，得到密文；</p>
<h4 id="2-解密实例"><a href="#2-解密实例" class="headerlink" title="2.解密实例"></a>2.解密实例</h4><p>往往在解密的过程中，得到的密文往往很长，那么能不能让计算机自己自动用25种密钥进行紧密呢？答案是可以的，那么下面我们据举个例子，就以上面的加密后的密文为例吧。<br><br>密文：ZHDUHIDPLOB<br><br>代码实现：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"># Function:该脚本是用来解密凯撒密码的：可以输出凯撒密码的所有情况，也可以根据输入的密文，进行自动解密</span><br><span class="line"># Date：2019-4-26</span><br><span class="line"></span><br><span class="line">string = input(&quot;Please input encryption:&quot;)</span><br><span class="line">length = len(string)</span><br><span class="line"></span><br><span class="line">############## 构造的函数 ##############</span><br><span class="line">def Caesar(crypto,index,word):</span><br><span class="line">    Lowercase_ciphertext = chr(crypto)                      # 将十进制转换为小写的字符</span><br><span class="line">    Uppercase_ciphertext = Lowercase_ciphertext.upper()     # 将小写字母的转换为大写字母</span><br><span class="line">    if string[index] == Uppercase_ciphertext:               # 判断字符串中的每个字符是否与凯撒密文的字符是否相等</span><br><span class="line">        Crypto_string.append(chr(word))                     # 如果相等，就将大写字母所对应的小写字母写入Crypto_string列表中</span><br><span class="line">    return Crypto_string                                    # Caesar函数返回的值为一个列表</span><br><span class="line"></span><br><span class="line">############## 三个循环体 ##############</span><br><span class="line">Crypto_string = []</span><br><span class="line">for num in range(0,26):                                     # 这是偏移量，也是凯撒密码的密钥，从0 - 25；</span><br><span class="line">    for index in range(0,len(string)):                      # 为了遍历字符串中的每个字符</span><br><span class="line">        for word in range(97,123):                          # a - z 所对应的ASCCII码</span><br><span class="line">            crypto = word + num;                            # 小写字母的ASCII码 + 偏移量 = 新的小写字母的ASCII码</span><br><span class="line">            if crypto &gt; 122:                                # 小写字母的ASCII码的范围为[97,122]，所以新的ASCII码的大小不能超过122</span><br><span class="line">                crypto = 96 + crypto % 122                  # 对于大于122的ASCII码，对其取余，以96为基础 + 余数 = 新的小写字母的ASCII码</span><br><span class="line">                Caesar(crypto,index,word)                   # 调用Caesar函数，将新的小写字母转换为大写字母，然后对于符合string中的字符，将其所对应的明文（小写字母）放入到一个数组中</span><br><span class="line">            else:</span><br><span class="line">                Caesar(crypto,index,word)                   # 对加过偏移量的ASCCII码的值在[97,122]之间的，直接调用Caesar函数</span><br><span class="line">                </span><br><span class="line">########## 取每种加密后的结果 ###########                        </span><br><span class="line">for mul in range(0,26):</span><br><span class="line">    print(&quot;The key is:&quot;,mul,&apos;| The encrypto is：&apos;,end=&apos;&apos;)</span><br><span class="line">    for index_sec in range(0,length):</span><br><span class="line">        Serial_number = index_sec + mul * length</span><br><span class="line">        print(Crypto_string[Serial_number],end=&apos;&apos;)</span><br><span class="line">    print(end=&apos;\n&apos;)</span><br></pre></td></tr></table></figure></p>
<p>输出结果为：<img src="http://r.photo.store.qq.com/psb?/V11UAV0k0TKwM6/.gOPdLtrefVUdP*4822Hg3Joh3XbckZryVjl*uKKUoA!/r/dEkBAAAAAAAA" alt><br>从上面的结果可以得出，密钥为 <code>3</code>，明文为：<code>wearefamily</code>。与上文的明文一致，至此可以推出该程序的正确性。</p>
<h3 id="四、学习感悟"><a href="#四、学习感悟" class="headerlink" title="四、学习感悟"></a>四、学习感悟</h3><p>在做测试的时候，自己的思想也开始慢慢的发生变化：自己要动手写一下程序，锻炼自己的思维能力和编程能力。今后在遇到问题的时候，我将会自己写程序来解决，也是边学习python，边锻炼自己。</p>
<h3 id="五、每日一句"><a href="#五、每日一句" class="headerlink" title="五、每日一句"></a>五、每日一句</h3><p>不管有多苦，千万要记住：苦难是我们人生路上不可缺少的经历，只有活着，才有幸福的可能！ </p>
</blockquote>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://muzibing.github.io/2019/04/25/2019.04.25（46）/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="MUZIBing">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MUZI's BLOG">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/04/25/2019.04.25（46）/" class="post-title-link" itemprop="url">二进制炸弹：Phase_6解题总结（1）</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-04-25 00:00:00 / Modified: 11:57:13" itemprop="dateCreated datePublished" datetime="2019-04-25T00:00:00+08:00">2019-04-25</time>
            

            
              

              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p><strong>☛ 前言：</strong><br>今天对Phase_6做了分析，觉得Phase_6 的难度明显大了很多，但是通过分析，我对于Phase_6整体的功能有了大概的认识，现在就我分析的内容进行总结。</p>
<h3 id="一、相关汇编代码"><a href="#一、相关汇编代码" class="headerlink" title="一、相关汇编代码"></a>一、相关汇编代码</h3><h4 id="1-Phase-6的汇编代码"><a href="#1-Phase-6的汇编代码" class="headerlink" title="1.Phase_6的汇编代码"></a>1.Phase_6的汇编代码</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line">08048da5 &lt;phase_6&gt;:</span><br><span class="line"> 8048da5:	56                   	push   %esi</span><br><span class="line"> 8048da6:	53                   	push   %ebx</span><br><span class="line"> 8048da7:	83 ec 44             	sub    $0x44,%esp</span><br><span class="line"> 8048daa:	8d 44 24 10          	lea    0x10(%esp),%eax</span><br><span class="line"> 8048dae:	89 44 24 04          	mov    %eax,0x4(%esp)</span><br><span class="line"> 8048db2:	8b 44 24 50          	mov    0x50(%esp),%eax</span><br><span class="line"> 8048db6:	89 04 24             	mov    %eax,(%esp)</span><br><span class="line"> 8048db9:	e8 6e 03 00 00       	call   804912c &lt;read_six_numbers&gt;</span><br><span class="line"> 8048dbe:	be 00 00 00 00       	mov    $0x0,%esi</span><br><span class="line"> 8048dc3:	8b 44 b4 10          	mov    0x10(%esp,%esi,4),%eax</span><br><span class="line"> 8048dc7:	83 e8 01             	sub    $0x1,%eax</span><br><span class="line"> 8048dca:	83 f8 05             	cmp    $0x5,%eax</span><br><span class="line"> 8048dcd:	76 05                	jbe    8048dd4 &lt;phase_6+0x2f&gt;</span><br><span class="line"> 8048dcf:	e8 31 03 00 00       	call   8049105 &lt;explode_bomb&gt;</span><br><span class="line"> 8048dd4:	83 c6 01             	add    $0x1,%esi</span><br><span class="line"> 8048dd7:	83 fe 06             	cmp    $0x6,%esi</span><br><span class="line"> 8048dda:	74 1b                	je     8048df7 &lt;phase_6+0x52&gt;</span><br><span class="line"> 8048ddc:	89 f3                	mov    %esi,%ebx</span><br><span class="line"> 8048dde:	8b 44 9c 10          	mov    0x10(%esp,%ebx,4),%eax</span><br><span class="line"> 8048de2:	39 44 b4 0c          	cmp    %eax,0xc(%esp,%esi,4)</span><br><span class="line"> 8048de6:	75 05                	jne    8048ded &lt;phase_6+0x48&gt;</span><br><span class="line"> 8048de8:	e8 18 03 00 00       	call   8049105 &lt;explode_bomb&gt;</span><br><span class="line"> 8048ded:	83 c3 01             	add    $0x1,%ebx</span><br><span class="line"> 8048df0:	83 fb 05             	cmp    $0x5,%ebx</span><br><span class="line"> 8048df3:	7e e9                	jle    8048dde &lt;phase_6+0x39&gt;</span><br><span class="line"> 8048df5:	eb cc                	jmp    8048dc3 &lt;phase_6+0x1e&gt;</span><br><span class="line"> 8048df7:	8d 44 24 10          	lea    0x10(%esp),%eax</span><br><span class="line"> 8048dfb:	8d 5c 24 28          	lea    0x28(%esp),%ebx</span><br><span class="line"> 8048dff:	b9 07 00 00 00       	mov    $0x7,%ecx</span><br><span class="line"> 8048e04:	89 ca                	mov    %ecx,%edx</span><br><span class="line"> 8048e06:	2b 10                	sub    (%eax),%edx</span><br><span class="line"> 8048e08:	89 10                	mov    %edx,(%eax)</span><br><span class="line"> 8048e0a:	83 c0 04             	add    $0x4,%eax</span><br><span class="line"> 8048e0d:	39 d8                	cmp    %ebx,%eax</span><br><span class="line"> 8048e0f:	75 f3                	jne    8048e04 &lt;phase_6+0x5f&gt;</span><br><span class="line"> 8048e11:	bb 00 00 00 00       	mov    $0x0,%ebx</span><br><span class="line"> 8048e16:	eb 1d                	jmp    8048e35 &lt;phase_6+0x90&gt;</span><br><span class="line"> 8048e18:	8b 52 08             	mov    0x8(%edx),%edx</span><br><span class="line"> 8048e1b:	83 c0 01             	add    $0x1,%eax</span><br><span class="line"> 8048e1e:	39 c8                	cmp    %ecx,%eax</span><br><span class="line"> 8048e20:	75 f6                	jne    8048e18 &lt;phase_6+0x73&gt;</span><br><span class="line"> 8048e22:	eb 05                	jmp    8048e29 &lt;phase_6+0x84&gt;</span><br><span class="line"> 8048e24:	ba 3c c1 04 08       	mov    $0x804c13c,%edx</span><br><span class="line"> 8048e29:	89 54 b4 28          	mov    %edx,0x28(%esp,%esi,4)</span><br><span class="line"> 8048e2d:	83 c3 01             	add    $0x1,%ebx</span><br><span class="line"> 8048e30:	83 fb 06             	cmp    $0x6,%ebx</span><br><span class="line"> 8048e33:	74 17                	je     8048e4c &lt;phase_6+0xa7&gt;</span><br><span class="line"> 8048e35:	89 de                	mov    %ebx,%esi</span><br><span class="line"> 8048e37:	8b 4c 9c 10          	mov    0x10(%esp,%ebx,4),%ecx</span><br><span class="line"> 8048e3b:	83 f9 01             	cmp    $0x1,%ecx</span><br><span class="line"> 8048e3e:	7e e4                	jle    8048e24 &lt;phase_6+0x7f&gt;</span><br><span class="line"> 8048e40:	b8 01 00 00 00       	mov    $0x1,%eax</span><br><span class="line"> 8048e45:	ba 3c c1 04 08       	mov    $0x804c13c,%edx</span><br><span class="line"> 8048e4a:	eb cc                	jmp    8048e18 &lt;phase_6+0x73&gt;</span><br><span class="line"> 8048e4c:	8b 5c 24 28          	mov    0x28(%esp),%ebx</span><br><span class="line"> 8048e50:	8d 44 24 2c          	lea    0x2c(%esp),%eax</span><br><span class="line"> 8048e54:	8d 74 24 40          	lea    0x40(%esp),%esi</span><br><span class="line"> 8048e58:	89 d9                	mov    %ebx,%ecx</span><br><span class="line"> 8048e5a:	8b 10                	mov    (%eax),%edx</span><br><span class="line"> 8048e5c:	89 51 08             	mov    %edx,0x8(%ecx)</span><br><span class="line"> 8048e5f:	83 c0 04             	add    $0x4,%eax</span><br><span class="line"> 8048e62:	39 f0                	cmp    %esi,%eax</span><br><span class="line"> 8048e64:	74 04                	je     8048e6a &lt;phase_6+0xc5&gt;</span><br><span class="line"> 8048e66:	89 d1                	mov    %edx,%ecx</span><br><span class="line"> 8048e68:	eb f0                	jmp    8048e5a &lt;phase_6+0xb5&gt;</span><br><span class="line"> 8048e6a:	c7 42 08 00 00 00 00 	movl   $0x0,0x8(%edx)</span><br><span class="line"> 8048e71:	be 05 00 00 00       	mov    $0x5,%esi</span><br><span class="line"> 8048e76:	8b 43 08             	mov    0x8(%ebx),%eax</span><br><span class="line"> 8048e79:	8b 00                	mov    (%eax),%eax</span><br><span class="line"> 8048e7b:	39 03                	cmp    %eax,(%ebx)</span><br><span class="line"> 8048e7d:	7d 05                	jge    8048e84 &lt;phase_6+0xdf&gt;</span><br><span class="line"> 8048e7f:	e8 81 02 00 00       	call   8049105 &lt;explode_bomb&gt;</span><br><span class="line"> 8048e84:	8b 5b 08             	mov    0x8(%ebx),%ebx</span><br><span class="line"> 8048e87:	83 ee 01             	sub    $0x1,%esi</span><br><span class="line"> 8048e8a:	75 ea                	jne    8048e76 &lt;phase_6+0xd1&gt;</span><br><span class="line"> 8048e8c:	83 c4 44             	add    $0x44,%esp</span><br><span class="line"> 8048e8f:	5b                   	pop    %ebx</span><br><span class="line"> 8048e90:	5e                   	pop    %esi</span><br><span class="line"> 8048e91:	c3                   	ret</span><br></pre></td></tr></table></figure>
</blockquote>
<h4 id="2-node1-6-处的数据"><a href="#2-node1-6-处的数据" class="headerlink" title="2.node1-6 处的数据"></a>2.node1-6 处的数据</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">.data:0804C13C                 public node1</span><br><span class="line">.data:0804C13C node1           dd 0DDh                 ; DATA XREF: phase_6:loc_8048E24o</span><br><span class="line">.data:0804C13C                                         ; phase_6+A0o</span><br><span class="line">.data:0804C140                 dd 1</span><br><span class="line">.data:0804C144                 dd 804C148h</span><br><span class="line">.data:0804C148                 public node2</span><br><span class="line">.data:0804C148 node2           dd 224h</span><br><span class="line">.data:0804C14C                 dd 2</span><br><span class="line">.data:0804C150                 dd 804C154h</span><br><span class="line">.data:0804C154                 public node3</span><br><span class="line">.data:0804C154 node3           dd 2F4h</span><br><span class="line">.data:0804C158                 dd 3</span><br><span class="line">.data:0804C15C                 dd 804C160h</span><br><span class="line">.data:0804C160                 public node4</span><br><span class="line">.data:0804C160 node4           dd 2F1h</span><br><span class="line">.data:0804C164                 dd 4</span><br><span class="line">.data:0804C168                 dd 804C16Ch</span><br><span class="line">.data:0804C16C                 public node5</span><br><span class="line">.data:0804C16C node5           dd 0FCh</span><br><span class="line">.data:0804C170                 dd 5</span><br><span class="line">.data:0804C174                 dd 804C178h</span><br><span class="line">.data:0804C178                 public node6</span><br><span class="line">.data:0804C178 node6           dd 3BBh</span><br><span class="line">.data:0804C17C                 dd 6</span><br><span class="line">.data:0804C180                 dd 0</span><br></pre></td></tr></table></figure>
<h3 id="二、相关伪代码（IDA反编译）"><a href="#二、相关伪代码（IDA反编译）" class="headerlink" title="二、相关伪代码（IDA反编译）"></a>二、相关伪代码（IDA反编译）</h3><h4 id="1-Phase-6的伪代码"><a href="#1-Phase-6的伪代码" class="headerlink" title="1.Phase_6的伪代码"></a>1.Phase_6的伪代码</h4><blockquote>
<p>相关伪代码会在下文列出</p>
<h3 id="三、代码分析"><a href="#三、代码分析" class="headerlink" title="三、代码分析"></a>三、代码分析</h3><h4 id="1-Phase-6代码分析"><a href="#1-Phase-6代码分析" class="headerlink" title="1.Phase_6代码分析"></a>1.Phase_6代码分析</h4><p>通过对汇编代码和伪代码的综合分析，发现Phase_6是由多个循环体构成的，经过对各个循环体的分析有了如下的认识：</p>
</blockquote>
<p><img src="http://r.photo.store.qq.com/psb?/V11UAV0k0TKwM6/rzXVN*ueeLBRu0qUtYsPLPaMa59tZ.J4ia4BrEjNuqc!/r/dLkAAAAAAAAA" alt><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">// ①②③④⑤⑥所对应的伪代码</span><br><span class="line">v1 = 0;</span><br><span class="line">while ( 1 )</span><br><span class="line">&#123;</span><br><span class="line">  if ( (unsigned int)(v15[v1] - 1) &gt; 5 )</span><br><span class="line">    explode_bomb();</span><br><span class="line">  if ( ++v1 == 6 )</span><br><span class="line">    break;</span><br><span class="line">  v2 = v1;</span><br><span class="line">  do</span><br><span class="line">  &#123;</span><br><span class="line">    if ( *(&amp;v14 + v1) == v15[v2] )</span><br><span class="line">      explode_bomb();</span><br><span class="line">    ++v2;</span><br><span class="line">  &#125;</span><br><span class="line">  while ( v2 &lt;= 5 );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<blockquote>
<ul>
<li>① <strong>跳转前：</strong>判断输入的数是否小于等于 6 ；<strong>跳转后：</strong>变量 v1 += 1；</li>
<li>② <strong>跳转前：</strong>是在一个循环体内，比较（0xc + %esp + 4 <em> %esi）和（0x10 + %esp + 4 </em> %ebx）两者的值，其中 esi 取 1-5，ebx是随着esi的，比如esi每次取一个数，ebx都会取 [esi，5]；<strong>跳转后：</strong>循环变量大于5，就跳出这个小循环，也就是每一次大的循环（循环变量 = n），在小循环中的循环次数为：6 - n 次；</li>
<li>③ <strong>跳转前：</strong>与 ② 共同在大循环中形成了一个小循环，是小循环的结束位置，如果不满足循环变量 ≤ 5，就执行 ③；<strong>跳转后：</strong>回到循环体的起始位置；</li>
<li>④ <strong>跳转前：</strong>是无条件跳转；<strong>跳转后：</strong>回到了大循环体的起始位置；</li>
<li>⑤ <strong>跳转前：</strong>只要“大”的循环变量 = 6，就跳出第一个大循环体；<strong>跳转后：</strong>跳出循环体，执行下面的指令；</li>
</ul>
</blockquote>
<p><img src="http://r.photo.store.qq.com/psb?/V11UAV0k0TKwM6/ZYtGPPhEfoDLbk9Fk4KvPdNkk4ddF0i0c9TShB7zb1g!/r/dMMAAAAAAAAA" alt><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">// ① 所对应的伪代码</span><br><span class="line">v3 = v15;</span><br><span class="line">  do</span><br><span class="line">  &#123;</span><br><span class="line">    *v3 = 7 - *v3;</span><br><span class="line">    ++v3;</span><br><span class="line">  &#125;</span><br><span class="line">  while ( v3 != &amp;v16 );</span><br><span class="line"></span><br><span class="line">// ②③④⑤⑥ 所对应的伪代码</span><br><span class="line">v4 = 0;</span><br><span class="line">do</span><br><span class="line">&#123;</span><br><span class="line">  v7 = v15[v4];</span><br><span class="line">  if ( v7 &lt;= 1 )</span><br><span class="line">  &#123;</span><br><span class="line">    v5 = &amp;node1;</span><br><span class="line">  &#125;</span><br><span class="line">  else</span><br><span class="line">  &#123;</span><br><span class="line">    v6 = 1;</span><br><span class="line">    v5 = &amp;node1;</span><br><span class="line">    do</span><br><span class="line">    &#123;</span><br><span class="line">      v5 = (_DWORD *)v5[2];</span><br><span class="line">      ++v6;</span><br><span class="line">    &#125;</span><br><span class="line">    while ( v6 != v7 );</span><br><span class="line">  &#125;</span><br><span class="line">  *(&amp;v16 + v4++) = (int)v5;</span><br><span class="line">&#125;</span><br><span class="line">while ( v4 != 6 );</span><br></pre></td></tr></table></figure></p>
<blockquote>
<ul>
<li>① 形成一个单循环；</li>
<li>② — ⑦ 形成一个双循环，也包括了一个条件语句：其中 ⑥ 为条件语句中的小循环；③ 和 ⑦ 形成一个条件语句；</li>
</ul>
</blockquote>
<p><img src="http://r.photo.store.qq.com/psb?/V11UAV0k0TKwM6/EJNBPa6PNAODa*tgBDMiGY6vTx4*id4mNNeJzIskDCw!/r/dFMBAAAAAAAA" alt><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">// ①②所对应的伪代码</span><br><span class="line">v8 = v16;</span><br><span class="line">v9 = &amp;v17;</span><br><span class="line">for ( i = v16; ; i = v11 )</span><br><span class="line">&#123;</span><br><span class="line">  v11 = *(_DWORD *)v9;</span><br><span class="line">  *(_DWORD *)(i + 8) = *(_DWORD *)v9;</span><br><span class="line">  v9 += 4;</span><br><span class="line">  if ( v9 == &amp;v18 )</span><br><span class="line">    break;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// ③④ 所对应的伪代码</span><br><span class="line">v8 = v16;</span><br><span class="line">v9 = &amp;v17;</span><br><span class="line">for ( i = v16; ; i = v11 )</span><br><span class="line">&#123;</span><br><span class="line">  v11 = *(_DWORD *)v9;</span><br><span class="line">  *(_DWORD *)(i + 8) = *(_DWORD *)v9;</span><br><span class="line">  v9 += 4;</span><br><span class="line">  if ( v9 == &amp;v18 )</span><br><span class="line">    break;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<blockquote>
<ul>
<li>① 和 ②共同构成一个循环语句；</li>
<li>③ 和 ④共同构成一个循环语句；<h4 id="2-node数据的分析"><a href="#2-node数据的分析" class="headerlink" title="2.node数据的分析"></a>2.node数据的分析</h4>通过对伪代码的分析，发现了相关的结点，我猜测可能与链表有关系，于是针对node又进行了分析：</li>
</ul>
</blockquote>
<p><img src="http://r.photo.store.qq.com/psb?/V11UAV0k0TKwM6/JePjt757CYpPwW*RXqt7J2fpMrt9rD9WtE09JECwwic!/r/dLYAAAAAAAAA" alt></p>
<blockquote>
<p>可以看出node1 - 6可以形成了一个链表，格式如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">typedef struct node&#123;</span><br><span class="line">    int value;</span><br><span class="line">    int id;</span><br><span class="line">    struct node *next;</span><br><span class="line">&#125;node;</span><br><span class="line"></span><br><span class="line">node node1=&#123;0xDD,1,&amp;node2&#125;;</span><br><span class="line">node node2=&#123;0x224,2,&amp;node3&#125;;</span><br><span class="line">node node3=&#123;0x2F4,3,&amp;node4&#125;;</span><br><span class="line">node node4=&#123;0x2F1,4,&amp;node5&#125;;</span><br><span class="line">node node5=&#123;0xFC,5,&amp;node6&#125;;</span><br><span class="line">node node6=&#123;0x3BB,6,NULL&#125;;</span><br></pre></td></tr></table></figure></p>
</blockquote>
<h3 id="四、后续工作"><a href="#四、后续工作" class="headerlink" title="四、后续工作"></a>四、后续工作</h3><blockquote>
<p>这道题目我目前只分析到了这里，对于伪代码和汇编代码的分析不够深入，对gdb的调试掌握的还不够全面，所以后续我将继续会做一下的工作：</p>
<ol>
<li>继续分析每块循环结构的功能；</li>
<li>继续学习有关gdb的一些操作；</li>
<li>加深对链表的学习；<h3 id="五、学习感悟"><a href="#五、学习感悟" class="headerlink" title="五、学习感悟"></a>五、学习感悟</h3>在做这道题的时候，明显感觉到难度和前几个阶段相比较大，虽然我现在还未能解出该题，但是我将会继续努力学习，真正的掌握这道题所带给我的知识点。<h3 id="六、每日一句"><a href="#六、每日一句" class="headerlink" title="六、每日一句"></a>六、每日一句</h3>环境永远不会十全十美，消极的人受环境控制，积极的人却控制环境。</li>
</ol>
</blockquote>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://muzibing.github.io/2019/04/23/2019.04.23（45）/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="MUZIBing">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MUZI's BLOG">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/04/23/2019.04.23（45）/" class="post-title-link" itemprop="url">二进制炸弹：Phase_5解题总结</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-04-23 00:00:00 / Modified: 19:20:37" itemprop="dateCreated datePublished" datetime="2019-04-23T00:00:00+08:00">2019-04-23</time>
            

            
              

              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<ul>
<li><strong>前言：</strong><br>在 3 个小时的“奋战”中，中间也经历了很多波折，终于在15：30的时候，找到了Phase_5的通关口令。下面我就重点来总结一下关于Phase_5的解题过程。<h3 id="一、相关汇编代码"><a href="#一、相关汇编代码" class="headerlink" title="一、相关汇编代码"></a>一、相关汇编代码</h3><h4 id="1-Phase-5的汇编代码"><a href="#1-Phase-5的汇编代码" class="headerlink" title="1.Phase_5的汇编代码"></a>1.Phase_5的汇编代码</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">08048d5c &lt;phase_5&gt;:</span><br><span class="line"> 8048d5c:	53                   	push   %ebx</span><br><span class="line"> 8048d5d:	83 ec 18             	sub    $0x18,%esp</span><br><span class="line"> 8048d60:	8b 5c 24 20          	mov    0x20(%esp),%ebx</span><br><span class="line"> 8048d64:	89 1c 24             	mov    %ebx,(%esp)</span><br><span class="line"></span><br><span class="line"> // 调用8048fdb处的函数（计算字符串的长度），并将字符串的长度与 6 相比，如果字符串的长度为 6 ，则跳转到8048d76继续执行指令，若不相等，则调用bomb函数；</span><br><span class="line"> 8048d67:	e8 6f 02 00 00       	call   8048fdb &lt;string_length&gt;</span><br><span class="line"> 8048d6c:	83 f8 06             	cmp    $0x6,%eax</span><br><span class="line"> 8048d6f:	74 05                	je     8048d76 &lt;phase_5+0x1a&gt;</span><br><span class="line"> 8048d71:	e8 8f 03 00 00       	call   8049105 &lt;explode_bomb&gt;</span><br><span class="line"></span><br><span class="line"> 8048d76:	ba 00 00 00 00       	mov    $0x0,%edx                // edx = v1</span><br><span class="line"> 8048d7b:	b8 00 00 00 00       	mov    $0x0,%eax                // eax = result</span><br><span class="line"></span><br><span class="line"> // 通过一个循环，取出字符串的每一个字符，并将每个字符与15按位做与运算；</span><br><span class="line"> // 也可以这样理解，将每个字符转换对应的十进制，按照二进制的形式与15的二进制形式（1111）做与运算，也就是只取每个字符的最后四位，并将所得的数赋值给 ecx；</span><br><span class="line"> 8048d80:	0f b6 0c 03          	movzbl (%ebx,%eax,1),%ecx</span><br><span class="line"> 8048d84:	83 e1 0f             	and    $0xf,%ecx</span><br><span class="line"></span><br><span class="line"> // edx的值为 0x804a1a0 + 4 * ecx 地址所指向的数据，ecx的值是 把我们输入的每个字符 &amp; 15 的结果作为数组下标，然后在数据中取到的；</span><br><span class="line"> 8048d87:	03 14 8d a0 a1 04 08 	add    0x804a1a0(,%ecx,4),%edx</span><br><span class="line"></span><br><span class="line"> // eax = eax +1 ，然后再将eax的值与 6 相比，如果不等于则跳转到8048d80，形成一个循环，如果想等，则继续向下执行指令；</span><br><span class="line"> 8048d8e:	83 c0 01             	add    $0x1,%eax</span><br><span class="line"> 8048d91:	83 f8 06             	cmp    $0x6,%eax</span><br><span class="line"> 8048d94:	75 ea                	jne    8048d80 &lt;phase_5+0x24&gt;</span><br><span class="line"> </span><br><span class="line"> // 将 edx（v1） 中的值与 61 相比较，如果相等的话就跳转到程序的Finish段，不等的话就bomb，这里edx的值是在8048d87处得到的；</span><br><span class="line"> 8048d96:	83 fa 3d             	cmp    $0x3d,%edx</span><br><span class="line"> 8048d99:	74 05                	je     8048da0 &lt;phase_5+0x44&gt;</span><br><span class="line"> 8048d9b:	e8 65 03 00 00       	call   8049105 &lt;explode_bomb&gt;</span><br><span class="line"></span><br><span class="line"> // Finish段</span><br><span class="line"> 8048da0:	83 c4 18             	add    $0x18,%esp</span><br><span class="line"> 8048da3:	5b                   	pop    %ebx</span><br><span class="line"> 8048da4:	c3                   	ret</span><br></pre></td></tr></table></figure>
</li>
</ul>
</blockquote>
<h4 id="2-0x804a1a0处的数据"><a href="#2-0x804a1a0处的数据" class="headerlink" title="2.0x804a1a0处的数据"></a>2.0x804a1a0处的数据</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">.rodata:0804A1A0 ; int array_3143[]</span><br><span class="line">.rodata:0804A1A0 array_3143      dd 2                   ; DATA XREF: phase_5+2Br</span><br><span class="line">.rodata:0804A1A4                 dd 10</span><br><span class="line">.rodata:0804A1A8                 dd 6</span><br><span class="line">.rodata:0804A1AC                 dd 1</span><br><span class="line">.rodata:0804A1B0                 dd 12</span><br><span class="line">.rodata:0804A1B4                 dd 16</span><br><span class="line">.rodata:0804A1B8                 dd 9</span><br><span class="line">.rodata:0804A1BC                 dd 3</span><br><span class="line">.rodata:0804A1C0                 dd 4</span><br><span class="line">.rodata:0804A1C4                 dd 7</span><br><span class="line">.rodata:0804A1C8                 dd 14</span><br><span class="line">.rodata:0804A1CC                 dd 5</span><br><span class="line">.rodata:0804A1D0                 dd 11</span><br><span class="line">.rodata:0804A1D4                 dd 8</span><br><span class="line">.rodata:0804A1D8                 dd 15</span><br><span class="line">.rodata:0804A1DC                 dd 13</span><br></pre></td></tr></table></figure>
<h3 id="二、相关伪代码（IDA反编译）"><a href="#二、相关伪代码（IDA反编译）" class="headerlink" title="二、相关伪代码（IDA反编译）"></a>二、相关伪代码（IDA反编译）</h3><h4 id="1-Phase-5的伪代码"><a href="#1-Phase-5的伪代码" class="headerlink" title="1.Phase_5的伪代码"></a>1.Phase_5的伪代码</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">int __cdecl phase_5(int a1)</span><br><span class="line">&#123;</span><br><span class="line">  int v1; // edx@3</span><br><span class="line">  int result; // eax@3</span><br><span class="line"></span><br><span class="line">  if ( string_length(a1) != 6 )</span><br><span class="line">    explode_bomb();</span><br><span class="line">  v1 = 0;</span><br><span class="line">  result = 0;</span><br><span class="line">  do</span><br><span class="line">    v1 += array_3143[*(_BYTE *)(a1 + result++) &amp; 0xF];</span><br><span class="line">  while ( result != 6 );</span><br><span class="line">  if ( v1 != 61 )</span><br><span class="line">    explode_bomb();</span><br><span class="line">  return result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="三、代码分析"><a href="#三、代码分析" class="headerlink" title="三、代码分析"></a>三、代码分析</h3><h4 id="1-Phase-5代码分析"><a href="#1-Phase-5代码分析" class="headerlink" title="1.Phase_5代码分析"></a>1.Phase_5代码分析</h4><blockquote>
<p>通过对汇编代码和伪代码的综合分析，对Phase_5的功能有了如下的认识：</p>
<ul>
<li><font color="green">8048d67</font>：计算输入字符串的长度，判断长度是否等于 6 ，如果不等则爆炸，**也就是要求我们输入的字符串的长度必须为 6** ；
<font color="red">// if ( string_length(a1) != 6 )
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;explode_bomb();</font></li>
<li><font color="green">8048d84</font>：经过一个循环，在这个循环体中，要求将我们输入的每个字符与 15 做与运算，并且将所得的结果作为数组的index，取出对应的数值相加；
<font color="red">// v1 += array\_3143[\*(\_BYTE \*)(a1 + result++) & 15];</font></li>
<li><font color="green">8048d91</font>：当循环变量 result = 6 的时候，退出循环体，也就是循环体进行了6次循环运算；
<font color="red">// while ( result != 6 );</font></li>
<li><font color="green">8048d96</font>：将经过do while(); 运算后的v1 与61进行比较，不相等则bomb；也就是根据 index 为下标取得数组值得累加为61；<br><font color="red">// if ( v1 != 61 )<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;explode_bomb();/font&gt;<h4 id="2-0x804a1a0处的数据分析"><a href="#2-0x804a1a0处的数据分析" class="headerlink" title="2.0x804a1a0处的数据分析"></a>2.0x804a1a0处的数据分析</h4>根据上文的内容可以分析到，array[ ]数组中的数据（十进制）为<code>2,10,6,1,12,16,9,3,4,7,14,5,11,8,15,13</code><h4 id="3-解题思路"><a href="#3-解题思路" class="headerlink" title="3.解题思路"></a>3.解题思路</h4>经过上文的分析，可以清楚的知道Phase_5做题思路：</font></li>
<li>首先我们需要输入一个 6 位长的字符串；</li>
<li>将字符串中的每个字符以二进制方式与 1111 做与运算，将每次运算的结果作为 index；</li>
<li>取出0x804a1a0—0804A1DC的数据，并将这些数据按照先后顺序形成一个数组；</li>
<li>在这16个数据中找出 6 个数字，要求这 6 个数字相加等于 61；</li>
<li>按照从小到大的顺序，再分别列出这 6 个数字所对应的 index；</li>
<li>写出脚本，从 a-z，看谁与 1111（二进制）做与运算，得到的结果为上面的 index；</li>
<li>将这些字符连在一起，就是我们要输入的字符串；<h3 id="四、解题过程"><a href="#四、解题过程" class="headerlink" title="四、解题过程"></a>四、解题过程</h3><h4 id="1-列出array-的数据"><a href="#1-列出array-的数据" class="headerlink" title="1.列出array[]的数据"></a>1.列出array[]的数据</h4>数据为<code>2,10,6,1,12,16,9,3,4,7,14,5,11,8,15,13</code><br><img src="http://r.photo.store.qq.com/psb?/V11UAV0k0TKwM6/JtNOrcRtHotSFcAwgSp62LSarCYi*qPNdjwDTnTQjwo!/r/dL8AAAAAAAAA" alt><h4 id="2-找出-6-个数，其和为-61"><a href="#2-找出-6-个数，其和为-61" class="headerlink" title="2.找出 6 个数，其和为 61"></a>2.找出 6 个数，其和为 61</h4>经过观察，可以找出 6 个数，他们逐一相加得 61，这 6 个数分别为<font color="red"><code>10、1、16、7、14、13</code></font>，并将这 6 个数形成一个数组<font color="red"><strong>array = [10、1、16、7、14、13]</strong></font>，它们的下标为别为：<code>1，3，5，9，10，15</code><h4 id="3-字符逐一与15做与运算"><a href="#3-字符逐一与15做与运算" class="headerlink" title="3.字符逐一与15做与运算"></a>3.字符逐一与15做与运算</h4>在这里我用到的只是 [a^z] 的字符，分别找到 a 和 z 所对应的十进制，然后写脚本：字符的十进制与15做与运算：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">for num in range(97,123):</span><br><span class="line">    print(&quot;Character -&gt;&quot;,chr(num),&quot;|&quot;, num &amp; 15, &quot;&lt;- Index&quot;,);</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>运算的结果如下图：<br><img src="http://r.photo.store.qq.com/psb?/V11UAV0k0TKwM6/AOtg.b6ynDN2bnjeaAnZQgbhvqrF*E*JAdRKDH3vveA!/r/dL8AAAAAAAAA" alt></p>
<h4 id="4-得到字符串"><a href="#4-得到字符串" class="headerlink" title="4.得到字符串"></a>4.得到字符串</h4><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;可以从第 2 步得出，要想 v1 = 61，则必须需要找出 6 个数值，这 6 个数值是通过字符串中的每个字符与 15 做与运算，将每次的结果作为数组array[] 的 index，分别取出相应的这 6 个数据。<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;我们已经找到了这 6 个数，那么他们对应的下标也分别为<code>1，3，5，9，10，15</code>，那么我们只需要在结果里找到相应的字符即可:</p>
<ul>
<li>下标为 1 对应的字符为：<font color="red"><strong>&nbsp;&nbsp;a&nbsp;&nbsp;&nbsp;q</strong></font></li>
<li>下标为 3 对应的字符为：<font color="red"><strong>&nbsp;&nbsp;c&nbsp;&nbsp;&nbsp;s</strong></font></li>
<li>下标为 5 对应的字符为：<font color="red"><strong>&nbsp;&nbsp;e&nbsp;&nbsp;&nbsp;u</strong></font></li>
<li>下标为 9 对应的字符为：<font color="red"><strong>&nbsp;&nbsp;i&nbsp;&nbsp;&nbsp;&nbsp;y</strong></font></li>
<li>下标为 10 对应的字符为：<font color="red"><strong>j&nbsp;&nbsp;&nbsp;&nbsp;z</strong></font></li>
<li>下标为 15 对应的字符为：<font color="red"><strong>o</strong></font></li>
</ul>
<p>那么我们要找的字符串有 <code>32</code>种可能：<br><code>aceijo、aceizo、aceyjo、aceyzo、acuijo、acuizo、acuyjo、acuyzo</code><br><code>aseijo、aseizo、aseyjo、aceyzo、asuijo、asuizo、asuyjo、asuyzo</code><br><code>qceijo、qceizo、qceyjo、qceyzo、qcuijo、qcuizo、qcuyjo、qcuyzo</code><br><code>qseijo、qseizo、qseyjo、qceyzo、qsuijo、qsuizo、qsuyjo、qsuyzo</code></p>
<h4 id="5-验证答案"><a href="#5-验证答案" class="headerlink" title="5.验证答案"></a>5.验证答案</h4><p>为了体现答案的正确性，我在每一行随机抽取了一个字符串作为通关口令：</p>
<ul>
<li>aceyzo<img src="http://r.photo.store.qq.com/psb?/V11UAV0k0TKwM6/LDjn6x4Y02kE.ZU3HMyw3*4KVaKg188w8HvclyuAXFA!/r/dMIAAAAAAAAA" alt></li>
<li>asuizo<img src="http://r.photo.store.qq.com/psb?/V11UAV0k0TKwM6/wQk003XkPA2Xduc9BAvyalqluXONbiaySjD02pz8oEs!/r/dDcBAAAAAAAA" alt></li>
<li>qceijo<img src="http://r.photo.store.qq.com/psb?/V11UAV0k0TKwM6/.wtdLHLdDCzljC5MVrIFPQB2GBcj8PVI43UWGLazk4Y!/r/dLYAAAAAAAAA" alt></li>
<li>qsuizo<img src="http://r.photo.store.qq.com/psb?/V11UAV0k0TKwM6/rK.me0wd*26fTCpKgDO4geNminVoG7wKaIpu4cWzRUM!/r/dL8AAAAAAAAA" alt><h3 id="五、学习感悟"><a href="#五、学习感悟" class="headerlink" title="五、学习感悟"></a>五、学习感悟</h3>在做这道题目过程中，让我觉得自己有好多要说出来的东西，并没有写出来，隐约地感觉到这道题还有知识点需要我去学习和总结的，第二阶段过后再好好的总结一下相关知识点吧。<h3 id="六、每日一句"><a href="#六、每日一句" class="headerlink" title="六、每日一句"></a>六、每日一句</h3>从梦想一开始，我们就未曾冀望过梦想落幕。梦想的舞台跌宕起伏，只是，我们永远不会让梦想谢幕。从导演到编剧，从演员到观众，我们每个人都在为刻画梦想而昂然奋斗，浓墨重彩，抑或淡染素描。 </li>
</ul>
</blockquote>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://muzibing.github.io/2019/04/22/2019.04.22（44）/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="MUZIBing">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MUZI's BLOG">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/04/22/2019.04.22（44）/" class="post-title-link" itemprop="url">sscanf()函数的详细总结 + 实例</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-04-22 00:00:00 / Modified: 22:00:38" itemprop="dateCreated datePublished" datetime="2019-04-22T00:00:00+08:00">2019-04-22</time>
            

            
              

              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<ul>
<li>前言：<br>今天注重的解决了出现在Phase_3中的问题：当时对__isoc99_sscanf@plt分析的时候，因为自己水平有限，所以当时知识认为sscanf()函数与scanf()函数一样，都只是一个输入函数。今天重新分析Phase_3的时候，发现问题的所在：sscanf() ≠ scanf()。今天就详细的总结一下sscanf()函数的内容。</li>
</ul>
</blockquote>
<h3 id="一、有关描述-1"><a href="#一、有关描述-1" class="headerlink" title="一、有关描述[1]"></a>一、有关描述<sup>[1]</sup></h3><blockquote>
<p>sscanf() 是从一个字符串中读进与指定格式相符的数据. </p>
</blockquote>
<h4 id="1-sscanf-格式："><a href="#1-sscanf-格式：" class="headerlink" title="1.sscanf()格式："></a>1.sscanf()格式：</h4><blockquote>
<p><center>int sscanf(const char <em>str, const char </em>format, …)&lt;/font&gt;</center></p>
<ul>
<li>str：为C 字符串，是函数检索数据的源；</li>
<li>format：为C 字符串，包含了以下各项中的一个或多个：空格字符、非空格字符 和 format 说明符。format 说明符形式为 [=%[*][width][modifiers]type=]<h4 id="2-format详解"><a href="#2-format详解" class="headerlink" title="2.format详解"></a>2.format详解</h4></li>
<li>“*” ：这是一个可选的星号，表示数据是从流 stream 中读取的，但是可以被忽视，即它不存储在对应的参数中；</li>
<li>width：这指定了在当前读取操作中读取的最大字符数；</li>
<li>modifiers    ：为对应的附加参数所指向的数据指定一个不同于整型（针对 d、i 和 n）、无符号整型（针对 o、u 和 x）或浮点型（针对 e、f 和 g）的大小： h ：短整型（针对 d、i 和 n），或无符号短整型（针对 o、u 和 x） l ：长整型（针对 d、i 和 n），或无符号长整型（针对 o、u 和 x），或双精度型（针对 e、f 和 g） L ：长双精度型（针对 e、f 和 g）；</li>
<li>type：一个字符，指定了要被读取的数据类型以及数据读取方式；<h4 id="3-附加参数"><a href="#3-附加参数" class="headerlink" title="3.附加参数"></a>3.附加参数</h4>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;这个函数接受一系列的指针作为附加参数，每一个指针都指向一个对象，对象类型由 format 字符串中相应的 % 标签指定，参数与 % 标签的顺序相同。<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;针对检索数据的 format 字符串中的每个 format 说明符，应指定一个附加参数。如果您想要把 sscanf 操作的结果存储在一个普通的变量中，您应该在标识符前放置引用运算符（&amp;），例如：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">int n;</span><br><span class="line">sscanf (str,&quot;%d&quot;,&amp;amp;n);</span><br></pre></td></tr></table></figure>
</li>
</ul>
</blockquote>
<h4 id="4-函数的返回值-2"><a href="#4-函数的返回值-2" class="headerlink" title="4.函数的返回值[2]"></a>4.函数的返回值<sup>[2]</sup></h4><blockquote>
<p><strong><font color="red">如果成功，该函数返回成功匹配和赋值的个数</font></strong>。如果到达文件末尾或发生读错误，则返回 EOF。</p>
<h3 id="二、sscanf-主要功能"><a href="#二、sscanf-主要功能" class="headerlink" title="二、sscanf() 主要功能"></a>二、sscanf() 主要功能</h3><ol>
<li>返回值是读取的参数个数;</li>
<li>取指定长度的字符串; </li>
<li>取到指定字符为止的字符串;</li>
<li>取到指定字符集为止的字符串;</li>
<li>取仅包含指定字符集的字符串;</li>
<li>获取指定字符中间的字符串;</li>
<li>指定要跳过的字符串;</li>
<li>分割以某字符隔开的字符串;</li>
<li>提取邮箱地址;</li>
<li>过滤掉不想截取或不需要的字符串;<h3 id="三、sscanf-实例-3"><a href="#三、sscanf-实例-3" class="headerlink" title="三、sscanf()实例[3]"></a>三、sscanf()实例<sup>[3]</sup></h3><h4 id="1-最简单的用法"><a href="#1-最简单的用法" class="headerlink" title="1.最简单的用法"></a>1.最简单的用法</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">string = &quot;China beijing 123&quot;;</span><br><span class="line">ret = sscanf(string, &quot;%s %s %d&quot;, buf1, buf2, &amp;digit);</span><br><span class="line">printf(&quot;string = %s\n&quot;, string);</span><br><span class="line">printf(&quot;ret=%d, buf1=%s, buf2=%s, digit=%d\n&quot;, ret, buf1, buf2, digit);</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p><strong>执行结果为：</strong><br><br><font color="red"><code>string = China beijing 123
ret=3, buf1=china, buf2=beijing, digit=123</code></font><br><br>可以看出,sscanf的<strong>返回值是读取的参数个数</strong>。</p>
<h4 id="2-取指定长度的字符串"><a href="#2-取指定长度的字符串" class="headerlink" title="2.取指定长度的字符串"></a>2.取指定长度的字符串</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">string = &quot;123456789&quot;;</span><br><span class="line">sscanf(string, &quot;%5s&quot;, buf1);</span><br><span class="line">printf(&quot;string=%s\n&quot;, string);</span><br><span class="line">printf(&quot;buf1=%s\n&quot;, buf1);</span><br></pre></td></tr></table></figure>
<p><strong>执行结果为：</strong><br><br><font color="red"><code>string=123456789
buf1=12345</code></font></p>
<h4 id="3-取到指定字符为止的字符串"><a href="#3-取到指定字符为止的字符串" class="headerlink" title="3.取到指定字符为止的字符串"></a>3.取到指定字符为止的字符串</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">string = &quot;123/456&quot;;</span><br><span class="line">sscanf(string, &quot;%[^/]&quot;, buf1);</span><br><span class="line">printf(&quot;string=%s\n&quot;, string);</span><br><span class="line">printf(&quot;buf1=%s\n&quot;, buf1);</span><br></pre></td></tr></table></figure>
<p><strong>执行结果为：</strong><br><br><font color="red"><code>string=123/456
buf1=123</code></font></p>
<h4 id="4-取到指定字符集为止的字符串"><a href="#4-取到指定字符集为止的字符串" class="headerlink" title="4.取到指定字符集为止的字符串"></a>4.取到指定字符集为止的字符串</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">string = &quot;123abcABC&quot;;</span><br><span class="line">sscanf(string, &quot;%[^A-Z]&quot;, buf1);</span><br><span class="line">printf(&quot;string=%s\n&quot;, string);</span><br><span class="line">printf(&quot;buf1=%s\n\n&quot;, buf1);</span><br></pre></td></tr></table></figure>
<p><strong>执行结果为：</strong><br><br><font color="red"><code>string=123abcABC
buf1=123abc</code></font></p>
<h4 id="5-取仅包含指定字符集的字符串"><a href="#5-取仅包含指定字符集的字符串" class="headerlink" title="5.取仅包含指定字符集的字符串"></a>5.取仅包含指定字符集的字符串</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">string = &quot;0123abcABC&quot;;</span><br><span class="line">sscanf(string, &quot;%[0-9]%[a-z]%[A-Z]&quot;, buf1, buf2, buf3);</span><br><span class="line">printf(&quot;string=%s\n&quot;, string);</span><br><span class="line">printf(&quot;buf1=%s, buf2=%s, buf3=%s\n\n&quot;, buf1, buf2, buf3);</span><br></pre></td></tr></table></figure>
<p><strong>执行结果为：</strong><br><br><font color="red"><code>string=0123abcABC
buf1=0123, buf2=abc, buf3=ABC</code></font></p>
<h4 id="6-获取指定字符中间的字符串"><a href="#6-获取指定字符中间的字符串" class="headerlink" title="6.获取指定字符中间的字符串"></a>6.获取指定字符中间的字符串</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">string = &quot;ios&lt;android&gt;wp7&quot;;</span><br><span class="line">sscanf(string, &quot;%*[^&lt;]&lt;%[^&gt;]&quot;, buf1);</span><br><span class="line">printf(&quot;string=%s\n&quot;, string);</span><br><span class="line">printf(&quot;buf1=%s\n\n&quot;, buf1);</span><br></pre></td></tr></table></figure>
<p><strong>执行结果为：</strong><br><br><font color="red"><code>string=ios&lt;android&gt;wp7
buf1=android</code></font></p>
<h4 id="7-指定要跳过的字符串"><a href="#7-指定要跳过的字符串" class="headerlink" title="7.指定要跳过的字符串"></a>7.指定要跳过的字符串</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">string = &quot;iosVSandroid&quot;;</span><br><span class="line">sscanf(string, &quot;%[a-z]VS%[a-z]&quot;, buf1, buf2);</span><br><span class="line">printf(&quot;string=%s\n&quot;, string);</span><br><span class="line">printf(&quot;buf1=%s, buf2=%s\n\n&quot;, buf1, buf2);</span><br></pre></td></tr></table></figure>
<p><strong>执行结果为：</strong><br><br><font color="red"><code>string=iosVSandroid
buf1=ios, buf2=android</code></font></p>
<h4 id="8-分割以某字符隔开的字符串"><a href="#8-分割以某字符隔开的字符串" class="headerlink" title="8.分割以某字符隔开的字符串"></a>8.分割以某字符隔开的字符串</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">string = &quot;android-iphone-wp7&quot;;</span><br><span class="line">/*字符串取道&apos;-&apos;为止,后面还需要跟着分隔符&apos;-&apos;,起到过滤作用,有点类似于第7点*/</span><br><span class="line"></span><br><span class="line">sscanf(string, &quot;%[^-]-%[^-]-%[^-]&quot;, buf1, buf2, buf3);</span><br><span class="line">printf(&quot;string=%s\n&quot;, string);</span><br><span class="line">printf(&quot;buf1=%s, buf2=%s, buf3=%s\n\n&quot;, buf1, buf2, buf3);</span><br></pre></td></tr></table></figure>
<p><strong>执行结果为：</strong><br><br><font color="red"><code>string=android-iphone-wp7
buf1=android, buf2=iphone, buf3=wp7</code></font></p>
<h4 id="9-提取邮箱地址"><a href="#9-提取邮箱地址" class="headerlink" title="9.提取邮箱地址"></a>9.提取邮箱地址</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">string = &quot;Email:beijing@sina.com.cn&quot;;</span><br><span class="line">sscanf(string, &quot;%[^:]:%[^@]@%[^.].%s&quot;, buf1, buf2, buf3, buf4);</span><br><span class="line">printf(&quot;string=%s\n&quot;, string);</span><br><span class="line">printf(&quot;buf1=%s, buf2=%s, buf3=%s, buf4=%s\n\n&quot;, buf1, buf2, buf3, buf4);</span><br></pre></td></tr></table></figure>
<p><strong>执行结果为：</strong><br><br><font color="red"><code>string=Email:beijing@sina.com.cn
buf1=Email, buf2=beijing, buf3=sina, buf4=com.cn</code></font></p>
<h4 id="10-过滤掉不想截取或不需要的字符串"><a href="#10-过滤掉不想截取或不需要的字符串" class="headerlink" title="10.过滤掉不想截取或不需要的字符串"></a>10.过滤掉不想截取或不需要的字符串</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">string = &quot;android iphone wp7&quot;;</span><br><span class="line">sscanf(string, &quot;%s %*s %s&quot;, buf1, buf2);</span><br><span class="line">printf(&quot;string=%s\n&quot;, string);</span><br><span class="line">printf(&quot;buf1=%s, buf2=%s\n\n&quot;, buf1, buf2);</span><br></pre></td></tr></table></figure>
<p><br><font color="red"><code>string=android iphone wp7
buf1=android, buf2=</code></font></p>
<h3 id="四、参考资料"><a href="#四、参考资料" class="headerlink" title="四、参考资料"></a>四、参考资料</h3><p>[1] <a href="http://www.runoob.com/cprogramming/c-function-sscanf.html" target="_blank" rel="noopener">http://www.runoob.com/cprogramming/c-function-sscanf.html</a><br>[2] <a href="http://www.cplusplus.com/reference/cstdio/sscanf/" target="_blank" rel="noopener">http://www.cplusplus.com/reference/cstdio/sscanf/</a><br>[3] <a href="https://blog.csdn.net/pengnanzheng/article/details/81120890" target="_blank" rel="noopener">https://blog.csdn.net/pengnanzheng/article/details/81120890</a></p>
<h3 id="五、每日一句"><a href="#五、每日一句" class="headerlink" title="五、每日一句"></a>五、每日一句</h3><p>若不想做，会找一个或无数个借口；你若想做，会想一个或无数个办法</p>
</blockquote>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://muzibing.github.io/2019/04/21/2019.04.21（43）/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="MUZIBing">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MUZI's BLOG">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/04/21/2019.04.21（43）/" class="post-title-link" itemprop="url">二进制炸弹：Phase_4解题总结</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-04-21 00:00:00" itemprop="dateCreated datePublished" datetime="2019-04-21T00:00:00+08:00">2019-04-21</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2019-04-22 21:56:50" itemprop="dateModified" datetime="2019-04-22T21:56:50+08:00">2019-04-22</time>
              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p><strong>☛ 前言：</strong><br>&nbsp;&nbsp;&nbsp;&nbsp;今天我将对Phase_4做详细的总结，并在总结过程中解决了在上道题（Phase_3）中遇到的问题，所以今天对我的收获是蛮大的，下面就详细的总结一下我在Phase_4的解题过程吧！</p>
<h3 id="一、相关汇编代码"><a href="#一、相关汇编代码" class="headerlink" title="一、相关汇编代码"></a>一、相关汇编代码</h3><h4 id="1-lt-phase-4-gt-的汇编代码"><a href="#1-lt-phase-4-gt-的汇编代码" class="headerlink" title="1.&lt; phase_4 &gt;的汇编代码"></a>1.&lt; phase_4 &gt;的汇编代码</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">08048cf3 &lt;phase_4&gt;:</span><br><span class="line"> 8048cf3:	83 ec 2c             	sub    $0x2c,%esp</span><br><span class="line"> 8048cf6:	8d 44 24 1c          	lea    0x1c(%esp),%eax</span><br><span class="line"> 8048cfa:	89 44 24 0c          	mov    %eax,0xc(%esp)</span><br><span class="line"> 8048cfe:	8d 44 24 18          	lea    0x18(%esp),%eax</span><br><span class="line"> 8048d02:	89 44 24 08          	mov    %eax,0x8(%esp)</span><br><span class="line"></span><br><span class="line"> // 这里是我们要输入具体的内容类型</span><br><span class="line"> 8048d06:	c7 44 24 04 ef a2 04 	movl   $0x804a2ef,0x4(%esp)</span><br><span class="line"> 8048d0d:	08 </span><br><span class="line"> 8048d0e:	8b 44 24 30          	mov    0x30(%esp),%eax</span><br><span class="line"> 8048d12:	89 04 24             	mov    %eax,(%esp)</span><br><span class="line"> </span><br><span class="line"> // 调用输入函数  </span><br><span class="line"> 8048d15:	e8 46 fb ff ff       	call   8048860 &lt;__isoc99_sscanf@plt&gt;</span><br><span class="line"></span><br><span class="line"> // 将eax（输入参数的个数）与2相比较，如果eax≠2，则跳转到8048d26，调用bomb函数；如果二者相等，则继续向下执行命令行；</span><br><span class="line"> 8048d1a:	83 f8 02             	cmp    $0x2,%eax</span><br><span class="line"> 8048d1d:	75 07                	jne    8048d26 &lt;phase_4+0x33&gt;</span><br><span class="line"> </span><br><span class="line"> // 将输入的第一个数值与14相比，如果 ≤14 则跳转到8048d2b，否则就执行bomb； </span><br><span class="line"> 8048d1f:	83 7c 24 18 0e       	cmpl   $0xe,0x18(%esp)</span><br><span class="line"> 8048d24:	76 05                	jbe    8048d2b &lt;phase_4+0x38&gt;</span><br><span class="line"> </span><br><span class="line"> 8048d26:	e8 da 03 00 00       	call   8049105 &lt;explode_bomb&gt; </span><br><span class="line"> 8048d2b:	c7 44 24 08 0e 00 00 	movl   $0xe,0x8(%esp)</span><br><span class="line"> 8048d32:	00 </span><br><span class="line"> 8048d33:	c7 44 24 04 00 00 00 	movl   $0x0,0x4(%esp)</span><br><span class="line"> 8048d3a:	00 </span><br><span class="line"> 8048d3b:	8b 44 24 18          	mov    0x18(%esp),%eax</span><br><span class="line"> 8048d3f:	89 04 24             	mov    %eax,(%esp)</span><br><span class="line"></span><br><span class="line"> // 调用func4函数，该函数的地址为8048c96</span><br><span class="line"> 8048d42:	e8 4f ff ff ff       	call   8048c96 &lt;func4&gt;</span><br><span class="line"></span><br><span class="line"> // 将func4函数输出的结果与19（十六进制为0x13）比较，如果两者不相等，则跳转到8048d53，执行bomb；两者相等的话，则继续向下执行指令；</span><br><span class="line"> 8048d47:	83 f8 13             	cmp    $0x13,%eax</span><br><span class="line"> 8048d4a:	75 07                	jne    8048d53 &lt;phase_4+0x60&gt;</span><br><span class="line"></span><br><span class="line"> // 将输入的第二个数据也与19相比，如果输入的数值等于19，则跳转到8048d58，程序执行完毕；如果不相等的话，则调用bomb函数；</span><br><span class="line"> 8048d4c:	83 7c 24 1c 13       	cmpl   $0x13,0x1c(%esp)</span><br><span class="line"> 8048d51:	74 05                	je     8048d58 &lt;phase_4+0x65&gt;</span><br><span class="line"> 8048d53:	e8 ad 03 00 00       	call   8049105 &lt;explode_bomb&gt;</span><br><span class="line"> </span><br><span class="line"> // Finish程序段</span><br><span class="line"> 8048d58:	83 c4 2c             	add    $0x2c,%esp</span><br><span class="line"> 8048d5b:	c3                   	ret</span><br></pre></td></tr></table></figure>
</blockquote>
<h4 id="2-func4-函数的汇编代码"><a href="#2-func4-函数的汇编代码" class="headerlink" title="2.func4() 函数的汇编代码"></a>2.func4() 函数的汇编代码</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line">08048c96 &lt;func4&gt;:</span><br><span class="line"></span><br><span class="line"> /* Set up段 */</span><br><span class="line"> 8048c96:	56                   	push   %esi</span><br><span class="line"> 8048c97:	53                   	push   %ebx</span><br><span class="line"> 8048c98:	83 ec 14             	sub    $0x14,%esp</span><br><span class="line"> // edx为第一个参数 a1</span><br><span class="line"> 8048c9b:	8b 54 24 20          	mov    0x20(%esp),%edx </span><br><span class="line"> // eax为第二个参数 a2</span><br><span class="line"> 8048c9f:	8b 44 24 24          	mov    0x24(%esp),%eax</span><br><span class="line"> // esi为第三个参数 a3</span><br><span class="line"> 8048ca3:	8b 74 24 28          	mov    0x28(%esp),%esi</span><br><span class="line"> 8048ca7:	89 f1                	mov    %esi,%ecx</span><br><span class="line"> </span><br><span class="line"> /* Body */</span><br><span class="line">   </span><br><span class="line"> // t1 = a3 - a2</span><br><span class="line"> 8048ca9:	29 c1                	sub    %eax,%ecx</span><br><span class="line"> // 将计算的结果放到寄存器%ebx中</span><br><span class="line"> 8048cab:	89 cb                	mov    %ecx,%ebx</span><br><span class="line"> // 将ebx逻辑右移；</span><br><span class="line"> 8048cad:	c1 eb 1f             	shr    $0x1f,%ebx</span><br><span class="line"> // 将ebx 与 ecx相加；</span><br><span class="line"> 8048cb0:	01 d9                	add    %ebx,%ecx</span><br><span class="line"> // ecx算术右移一位，也就是ecx中的数值 / 2；</span><br><span class="line"> 8048cb2:	d1 f9                	sar    %ecx</span><br><span class="line"> 8048cb4:	8d 1c 01             	lea    (%ecx,%eax,1),%ebx</span><br><span class="line"> </span><br><span class="line"> // 将edx与ebx中的数值相比较，如果（v3 + a2）ebx ≤ edx（a1）则跳转到8048cd2；如果ebx ≤ edx则继续往下执行指令；</span><br><span class="line"> 8048cb7:	39 d3                	cmp    %edx,%ebx</span><br><span class="line"> 8048cb9:	7e 17                	jle    8048cd2 &lt;func4+0x3c&gt;</span><br><span class="line"> 8048cbb:	8d 4b ff             	lea    -0x1(%ebx),%ecx</span><br><span class="line"> 8048cbe:	89 4c 24 08          	mov    %ecx,0x8(%esp)</span><br><span class="line"> 8048cc2:	89 44 24 04          	mov    %eax,0x4(%esp)</span><br><span class="line"> 8048cc6:	89 14 24             	mov    %edx,(%esp)</span><br><span class="line"></span><br><span class="line"> // 调用fun4() 函数，那么在调用func4() 函数中，可能会再次调用该函数，从这里可以看出应该是递归函数；</span><br><span class="line"> 8048cc9:	e8 c8 ff ff ff       	call   8048c96 &lt;func4&gt;</span><br><span class="line"> //将func4() 输出的数值与ebx中的数据（v4）相加，再无条件跳转到8048ced处；</span><br><span class="line"> 8048cce:	01 d8                	add    %ebx,%eax</span><br><span class="line"> 8048cd0:	eb 1b                	jmp    8048ced &lt;func4+0x57&gt;</span><br><span class="line"></span><br><span class="line"> // 若上述的代码中（v3 + a2）ebx ≤ edx（a1）则条状到这里；将ebx中的数据放到eax中（result = v4）；</span><br><span class="line"> 8048cd2:	89 d8                	mov    %ebx,%eax</span><br><span class="line"> // 比较ebx（v4）与edx（a1）的大小，如果ebx ≥ edx则跳转到8048ced，func4()函数执行完毕；</span><br><span class="line"> 8048cd4:	39 d3                	cmp    %edx,%ebx</span><br><span class="line"> 8048cd6:	7d 15                	jge    8048ced &lt;func4+0x57&gt;</span><br><span class="line"> 8048cd8:	89 74 24 08          	mov    %esi,0x8(%esp)</span><br><span class="line"> 8048cdc:	8d 43 01             	lea    0x1(%ebx),%eax</span><br><span class="line"> 8048cdf:	89 44 24 04          	mov    %eax,0x4(%esp)</span><br><span class="line"> 8048ce3:	89 14 24             	mov    %edx,(%esp) </span><br><span class="line"> 8048ce6:	e8 ab ff ff ff       	call   8048c96 &lt;func4&gt;</span><br><span class="line"> 8048ceb:	01 d8                	add    %ebx,%eax</span><br><span class="line"></span><br><span class="line"> /* Finish段 */</span><br><span class="line"> 8048ced:	83 c4 14             	add    $0x14,%esp</span><br><span class="line"> 8048cf0:	5b                   	pop    %ebx</span><br><span class="line"> 8048cf1:	5e                   	pop    %esi</span><br><span class="line"> 8048cf2:	c3                   	ret</span><br></pre></td></tr></table></figure>
<h3 id="二、相关伪代码（IDA反编译）"><a href="#二、相关伪代码（IDA反编译）" class="headerlink" title="二、相关伪代码（IDA反编译）"></a>二、相关伪代码（IDA反编译）</h3><h4 id="1-Phase-4的伪代码"><a href="#1-Phase-4的伪代码" class="headerlink" title="1.Phase_4的伪代码"></a>1.Phase_4的伪代码</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">int __cdecl phase_4(int a1)</span><br><span class="line">&#123;</span><br><span class="line">  int result; // eax@4</span><br><span class="line">  int v2; // [sp+18h] [bp-14h]@1</span><br><span class="line">  int v3; // [sp+1Ch] [bp-10h]@1</span><br><span class="line"></span><br><span class="line">  if ( __isoc99_sscanf(a1, &quot;%d %d&quot;, &amp;v2, &amp;v3) != 2 || (unsigned int)v2 &gt; 0xE )</span><br><span class="line">    explode_bomb();</span><br><span class="line">  result = func4(v2, 0, 14);</span><br><span class="line">  if ( result != 19 || v3 != 19 )</span><br><span class="line">    explode_bomb();</span><br><span class="line">  return result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="2-func4-函数的伪代码"><a href="#2-func4-函数的伪代码" class="headerlink" title="2.func4() 函数的伪代码"></a>2.func4() 函数的伪代码</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">int __cdecl func4(int a1, int a2, int a3)</span><br><span class="line">&#123;</span><br><span class="line">  int v3; // ecx@1</span><br><span class="line">  int v4; // ebx@1</span><br><span class="line">  int result; // eax@2</span><br><span class="line"></span><br><span class="line">  v3 = (a3 - a2) / 2;</span><br><span class="line">  v4 = v3 + a2;</span><br><span class="line">  if ( v3 + a2 &lt;= a1 )</span><br><span class="line">  &#123;</span><br><span class="line">    result = v3 + a2;</span><br><span class="line">    if ( v4 &lt; a1 )</span><br><span class="line">      result = v4 + func4(a1, v4 + 1, a3);</span><br><span class="line">  &#125;</span><br><span class="line">  else</span><br><span class="line">  &#123;</span><br><span class="line">    result = v4 + func4(a1, a2, v4 - 1);</span><br><span class="line">  &#125;</span><br><span class="line">  return result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="三、代码分析"><a href="#三、代码分析" class="headerlink" title="三、代码分析"></a>三、代码分析</h3><h4 id="1-Phase-4函数的功能"><a href="#1-Phase-4函数的功能" class="headerlink" title="1.Phase_4函数的功能"></a>1.Phase_4函数的功能</h4><blockquote>
<p>通过对汇编代码和伪代码的综合分析，对Phase_4的功能有了如下的大概认识：</p>
<ul>
<li><font color="green">8048d06</font>：要求输入2个整型数值：v2，v3；<br><font color="red">// __isoc99_sscanf(a1, “%d %d”, &amp;v2, &amp;v3)</font><br><br></li>
<li><font color="green">8048d1f</font>：判读输入参数的个数是否等于2，以及输入的第一个数值是否小于等于14，如果参数的个数不等于2，以及第一个数据大于14的话，则bomb。也就是说我们必须要输入两个数字，且输入的第一个数字必须要 ≤14 ；<br><font color="red">// if ( __isoc99_sscanf(a1, “%d %d”, &amp;v2, &amp;v3) != 2 || (unsigned int)v2 &gt; 14 )<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;explode_bomb();</font><br><br></li>
<li><font color="green">8048d42</font>：调用func4() 函数，返回一个result；<br><font color="red">// result = func4(v2, 0, 14);</font><br><br></li>
<li><font color="green">8048d47</font>：将func4() 返回的result与19相比，如果两者不相等则bomb；<br><font color="red">// if ( result != 19 || v3 != 19 )&nbsp;&nbsp;&nbsp;&nbsp; explode_bomb();</font><br><br></li>
<li><font color="green">8048d4c</font>：将输入的第二个数据也与19相比，如果两者不相等则bomb，相等的话则 return 1；
<font color="red">// if ( result != 19 || v3 != 19 )&nbsp;&nbsp;&nbsp;&nbsp;explode_bomb();</font>

</li>
</ul>
</blockquote>
<h4 id="2-func4-函数代码分析"><a href="#2-func4-函数代码分析" class="headerlink" title="2.func4()函数代码分析"></a>2.func4()函数代码分析</h4><blockquote>
<ul>
<li>现在再针对func4()函数的功能做一下分析：<br>通过上文的汇编和伪代码，以及对汇编代码的分析，可以得到<font color="red"><strong>func4( ) 函数</strong>是一个<strong>递归函数</strong></font>，通过参数传递，在多重递归反复计算下，可以返回一个最终的结果</li>
</ul>
</blockquote>
<h4 id="3-解题思路"><a href="#3-解题思路" class="headerlink" title="3.解题思路"></a>3.解题思路</h4><blockquote>
<p>经过上面对 Phase_4和func4()函数的分析，可以清晰的知道了这一关的要求以及做题的思路：</p>
<ul>
<li>首先弄清楚我们需要输入两个整型数据；</li>
<li>第一个数据要在[0，14]范围内；</li>
<li>第二个数据要等于19；</li>
<li>紧接着调用一个递归函数func4()，要把输入的第一个数据作为形参之一，传给func4()；</li>
<li>要通过func4(v2,0,14)函数求得result的值，并且求得的值应为19，同时也能求得第一个数据的值；</li>
</ul>
<p>若满足上述五个条件，则通关。</p>
<h3 id="四、解题过程"><a href="#四、解题过程" class="headerlink" title="四、解题过程"></a>四、解题过程</h3><h4 id="1-查看输入的数据格式"><a href="#1-查看输入的数据格式" class="headerlink" title="1.查看输入的数据格式"></a>1.<strong>查看输入的数据格式</strong></h4><p>通过<code>x/1s 0x804a2ef</code>来查看需要输入的格式，需要输入的数据为两个整数类型，如下图所示：<img src="http://r.photo.store.qq.com/psb?/V11UAV0k0TKwM6/l.psxdmoYQK84bcREyUSdqtp2VLIBuSZmUpwYkPYrkQ!/r/dL8AAAAAAAAA" alt></p>
</blockquote>
<h4 id="2-计算第一个数值"><a href="#2-计算第一个数值" class="headerlink" title="2.计算第一个数值"></a>2.<strong>计算第一个数值</strong></h4><blockquote>
<p>从上述分析中可以得到第一个数据为：<strong><font color="red">[0,14]</font></strong>中的一个，并且该数据作为func4()的一个形参，算出最后的结果为19，那么关键就是通过func4()函数，看谁的结果为19：<br><br><strong>① 编写脚本</strong><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;对于一个递归函数如何求得最终的result呢？我一开始就是尝试了自己手工计算，但是越往下算啊越发现越复杂，于是果断的放弃，就选择了第二种方案：机器计算。一开始我用的是C++写的脚本，但是因为我现在初学python，所以我又尝试了用python写了一个脚本。</p>
<p>☛ C++脚本:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">#include&lt;iostream&gt;</span><br><span class="line">using namespace std;</span><br><span class="line">int func4(int a1,int a2,int a3);</span><br><span class="line">void main()</span><br><span class="line">&#123;</span><br><span class="line">  int x,result;</span><br><span class="line">  for(x=0;x&lt;=14;x++)</span><br><span class="line">  &#123;</span><br><span class="line">	  result = func4(x,0,14);</span><br><span class="line">	  cout&lt;&lt;&quot;x is &quot;&lt;&lt;x&lt;&lt;&apos;\n&apos;&lt;&lt;&quot;result is &quot;&lt;&lt;result&lt;&lt;&apos;\n&apos;&lt;&lt;&apos;\n&apos;;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int func4(int a1,int a2,int a3)</span><br><span class="line">&#123;</span><br><span class="line">  int v3; // ecx@1</span><br><span class="line">  int v4; // ebx@1</span><br><span class="line">  int result; // eax@2</span><br><span class="line"></span><br><span class="line">  v3 = (a3 - a2) / 2;</span><br><span class="line">  v4 = v3 + a2;</span><br><span class="line">  if ( v3 + a2 &lt;= a1 )</span><br><span class="line">  &#123;</span><br><span class="line">    result = v3 + a2;</span><br><span class="line">    if ( v4 &lt; a1 )</span><br><span class="line">      result = v4 + func4(a1, v4 + 1, a3);</span><br><span class="line">  &#125;</span><br><span class="line">  else</span><br><span class="line">  &#123;</span><br><span class="line">    result = v4 + func4(a1, a2, v4 - 1);</span><br><span class="line">  &#125;</span><br><span class="line">  return result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>☛ python 脚本:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">def func4(num,a2,a3):</span><br><span class="line">    v3 = (a3 - a2) / 2</span><br><span class="line">    v4 = v3 + a2</span><br><span class="line">    if v3 + a2 &lt;= num:</span><br><span class="line">        result = v3 + a2</span><br><span class="line">        if v4 &lt; num:</span><br><span class="line">            result = v4 + func4(num,v4 + 1,a3);</span><br><span class="line">    else:</span><br><span class="line">        result = v4 + func4(num,a2,v4 - 1);</span><br><span class="line">    return result</span><br><span class="line"></span><br><span class="line">for num in range(0,14):</span><br><span class="line">    result = func4(num,0,14);</span><br><span class="line">    print &quot;x is:&quot;,num,&quot;result is:&quot;,result</span><br></pre></td></tr></table></figure></p>
<p><strong>② 执行脚本</strong><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;上面的程序均可正常执行。下面我只会贴出python版本的答案：<br><img src="http://r.photo.store.qq.com/psb?/V11UAV0k0TKwM6/Fl2ndXTAEiLKb9W*aYVAkrUu1Ze1p2*hnn6xzVIqWZM!/r/dL8AAAAAAAAA" alt><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;从所得结果来看，可以很清楚的看到输出结果为19，所对应的 x（也就是我们输入的第一个数据）为 <strong>4</strong> ，那么我们便得到了<font color="red"><strong>第一个数据为 4</strong></font>；</p>
</blockquote>
<h4 id="3-得第二个数据"><a href="#3-得第二个数据" class="headerlink" title="3.得第二个数据"></a>3.<strong>得第二个数据</strong></h4><blockquote>
<p>通过上文的<font color="green"><strong>代码分析</strong></font>和<font color="green"><strong>解题思路</strong></font>模块，可以得出<font color="red"><strong>第二个数据为 19</strong></font>；</p>
</blockquote>
<h4 id="4-整理答案"><a href="#4-整理答案" class="headerlink" title="4.整理答案"></a>4.<strong>整理答案</strong></h4><blockquote>
<p>综上所述，Phase_4的通关答案为：<code>4 19</code></p>
<h3 id="四、验证答案"><a href="#四、验证答案" class="headerlink" title="四、验证答案"></a>四、验证答案</h3><p>输入 <code>4 19</code>，得到的结果如下：<img src="http://r.photo.store.qq.com/psb?/V11UAV0k0TKwM6/QM*qyzBjA.vxyhQN2LZZz2.hHAH9w0RyjjzUpQYqbJ4!/r/dL8AAAAAAAAA" alt><br>说明该答案正确！</p>
<h3 id="五、学习感悟"><a href="#五、学习感悟" class="headerlink" title="五、学习感悟"></a>五、学习感悟</h3><p>在今天做题的时候，忽然发现解决了昨天的问题，我明天再将昨天的问题进行更改和总结。有问题不可怕，可怕的是遇见问题就退缩。不管怎么样，以后的我 还是会认真的坚持，对发现的问题及时解决，及时总结！</p>
<h3 id="七、每日一句"><a href="#七、每日一句" class="headerlink" title="七、每日一句"></a>七、每日一句</h3><p>一般人会在困境面前浑身发抖，而成大事者则能把困境变为成功的有力跳板。</p>
</blockquote>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <div class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">MUZIBing</p>
              <div class="site-description motion-element" itemprop="description"></div>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">52</span>
                    <span class="site-state-item-name">posts</span>
                  </a>
                </div>
              

              

              
                
                
                <div class="site-state-item site-state-tags">
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">13</span>
                    <span class="site-state-item-name">tags</span>
                  
                </div>
              
            </nav>
          

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          

          

          

          
          

          
            
          
          

        </div>
      </div>

      

      

    </div>
  </aside>
  


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">MUZIBing</span>

  

  
</div>


  <div class="powered-by">Powered by <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> v3.8.0</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> v7.1.1</div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>














  
    
    
  
  <script color="0,0,255" opacity="0.5" zindex="-1" count="99" src="/lib/canvas-nest/canvas-nest.min.js"></script>













  
  <script src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>


  


  <script src="/js/utils.js?v=7.1.1"></script>

  <script src="/js/motion.js?v=7.1.1"></script>



  
  


  <script src="/js/affix.js?v=7.1.1"></script>

  <script src="/js/schemes/pisces.js?v=7.1.1"></script>



  

  


  <script src="/js/next-boot.js?v=7.1.1"></script><!-- hexo-inject:begin --><!-- Begin: Injected MathJax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({"tex2jax":{"inlineMath":[["$","$"],["\\(","\\)"]],"skipTags":["script","noscript","style","textarea","pre","code"],"processEscapes":true},"TeX":{"equationNumbers":{"autoNumber":"AMS"}}});
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js">
</script>
<!-- End: Injected MathJax -->
<!-- hexo-inject:end -->


  

  

  

  



  




  

  

  

  

  

  

  

  

  

  

  

  

  

  

</body>
</html>
